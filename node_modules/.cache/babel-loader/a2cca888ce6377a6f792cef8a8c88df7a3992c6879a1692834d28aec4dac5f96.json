{"ast":null,"code":"/* =========================================================\r\n * bootstrap-datepicker.js\r\n * Repo: https://github.com/eternicode/bootstrap-datepicker/\r\n * Demo: http://eternicode.github.io/bootstrap-datepicker/\r\n * Docs: http://bootstrap-datepicker.readthedocs.org/\r\n * Forked from http://www.eyecon.ro/bootstrap-datepicker\r\n * =========================================================\r\n * Started by Stefan Petre; improvements by Andrew Rowls + contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */\n\n(function ($, undefined) {\n  var $window = $(window);\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\n  }\n  function alias(method) {\n    return function () {\n      return this[method].apply(this, arguments);\n    };\n  }\n  var DateArray = function () {\n    var extras = {\n      get: function get(i) {\n        return this.slice(i)[0];\n      },\n      contains: function contains(d) {\n        // Array.indexOf is not cross-browser;\n        // $.inArray doesn't work with Dates\n        var val = d && d.valueOf();\n        for (var i = 0, l = this.length; i < l; i++) if (this[i].valueOf() === val) return i;\n        return -1;\n      },\n      remove: function remove(i) {\n        this.splice(i, 1);\n      },\n      replace: function replace(new_array) {\n        if (!new_array) return;\n        if (!$.isArray(new_array)) new_array = [new_array];\n        this.clear();\n        this.push.apply(this, new_array);\n      },\n      clear: function clear() {\n        this.splice(0);\n      },\n      copy: function copy() {\n        var a = new DateArray();\n        a.replace(this);\n        return a;\n      }\n    };\n    return function () {\n      var a = [];\n      a.push.apply(a, arguments);\n      $.extend(a, extras);\n      return a;\n    };\n  }();\n\n  // Picker object\n\n  var Datepicker = function Datepicker(element, options) {\n    this.dates = new DateArray();\n    this.viewDate = UTCToday();\n    this.focusDate = null;\n    this._process_options(options);\n    this.element = $(element);\n    this.isInline = false;\n    this.isInput = this.element.is('input');\n    this.component = this.element.is('.date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\n    this.hasInput = this.component && this.element.find('input').length;\n    if (this.component && this.component.length === 0) this.component = false;\n    this.picker = $(DPGlobal.template);\n    this._buildEvents();\n    this._attachEvents();\n    if (this.isInline) {\n      this.picker.addClass('datepicker-inline').appendTo(this.element);\n    } else {\n      this.picker.addClass('datepicker-dropdown dropdown-menu');\n    }\n    if (this.o.rtl) {\n      this.picker.addClass('datepicker-rtl');\n    }\n    this.viewMode = this.o.startView;\n    if (this.o.calendarWeeks) this.picker.find('tfoot th.today').attr('colspan', function (i, val) {\n      return parseInt(val) + 1;\n    });\n    this._allow_update = false;\n    this.setStartDate(this._o.startDate);\n    this.setEndDate(this._o.endDate);\n    this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\n    this.fillDow();\n    this.fillMonths();\n    this._allow_update = true;\n    this.update();\n    this.showMode();\n    if (this.isInline) {\n      this.show();\n    }\n  };\n  Datepicker.prototype = {\n    constructor: Datepicker,\n    _process_options: function _process_options(opts) {\n      // Store raw options for reference\n      this._o = $.extend({}, this._o, opts);\n      // Processed options\n      var o = this.o = $.extend({}, this._o);\n\n      // Check if \"de-DE\" style date is available, if not language should\n      // fallback to 2 letter code eg \"de\"\n      var lang = o.language;\n      if (!dates[lang]) {\n        lang = lang.split('-')[0];\n        if (!dates[lang]) lang = defaults.language;\n      }\n      o.language = lang;\n      switch (o.startView) {\n        case 2:\n        case 'decade':\n          o.startView = 2;\n          break;\n        case 1:\n        case 'year':\n          o.startView = 1;\n          break;\n        default:\n          o.startView = 0;\n      }\n      switch (o.minViewMode) {\n        case 1:\n        case 'months':\n          o.minViewMode = 1;\n          break;\n        case 2:\n        case 'years':\n          o.minViewMode = 2;\n          break;\n        default:\n          o.minViewMode = 0;\n      }\n      o.startView = Math.max(o.startView, o.minViewMode);\n\n      // true, false, or Number > 0\n      if (o.multidate !== true) {\n        o.multidate = Number(o.multidate) || false;\n        if (o.multidate !== false) o.multidate = Math.max(0, o.multidate);else o.multidate = 1;\n      }\n      o.multidateSeparator = String(o.multidateSeparator);\n      o.weekStart %= 7;\n      o.weekEnd = (o.weekStart + 6) % 7;\n      var format = DPGlobal.parseFormat(o.format);\n      if (o.startDate !== -Infinity) {\n        if (!!o.startDate) {\n          if (o.startDate instanceof Date) o.startDate = this._local_to_utc(this._zero_time(o.startDate));else o.startDate = DPGlobal.parseDate(o.startDate, format, o.language);\n        } else {\n          o.startDate = -Infinity;\n        }\n      }\n      if (o.endDate !== Infinity) {\n        if (!!o.endDate) {\n          if (o.endDate instanceof Date) o.endDate = this._local_to_utc(this._zero_time(o.endDate));else o.endDate = DPGlobal.parseDate(o.endDate, format, o.language);\n        } else {\n          o.endDate = Infinity;\n        }\n      }\n      o.daysOfWeekDisabled = o.daysOfWeekDisabled || [];\n      if (!$.isArray(o.daysOfWeekDisabled)) o.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\n      o.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      var plc = String(o.orientation).toLowerCase().split(/\\s+/g),\n        _plc = o.orientation.toLowerCase();\n      plc = $.grep(plc, function (word) {\n        return /^auto|left|right|top|bottom$/.test(word);\n      });\n      o.orientation = {\n        x: 'auto',\n        y: 'auto'\n      };\n      if (!_plc || _plc === 'auto') ; // no action\n      else if (plc.length === 1) {\n        switch (plc[0]) {\n          case 'top':\n          case 'bottom':\n            o.orientation.y = plc[0];\n            break;\n          case 'left':\n          case 'right':\n            o.orientation.x = plc[0];\n            break;\n        }\n      } else {\n        _plc = $.grep(plc, function (word) {\n          return /^left|right$/.test(word);\n        });\n        o.orientation.x = _plc[0] || 'auto';\n        _plc = $.grep(plc, function (word) {\n          return /^top|bottom$/.test(word);\n        });\n        o.orientation.y = _plc[0] || 'auto';\n      }\n    },\n    _events: [],\n    _secondaryEvents: [],\n    _applyEvents: function _applyEvents(evs) {\n      for (var i = 0, el, ch, ev; i < evs.length; i++) {\n        el = evs[i][0];\n        if (evs[i].length === 2) {\n          ch = undefined;\n          ev = evs[i][1];\n        } else if (evs[i].length === 3) {\n          ch = evs[i][1];\n          ev = evs[i][2];\n        }\n        el.on(ev, ch);\n      }\n    },\n    _unapplyEvents: function _unapplyEvents(evs) {\n      for (var i = 0, el, ev, ch; i < evs.length; i++) {\n        el = evs[i][0];\n        if (evs[i].length === 2) {\n          ch = undefined;\n          ev = evs[i][1];\n        } else if (evs[i].length === 3) {\n          ch = evs[i][1];\n          ev = evs[i][2];\n        }\n        el.off(ev, ch);\n      }\n    },\n    _buildEvents: function _buildEvents() {\n      if (this.isInput) {\n        // single input\n        this._events = [[this.element, {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(function (e) {\n            if ($.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1) this.update();\n          }, this),\n          keydown: $.proxy(this.keydown, this)\n        }]];\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [\n        // For components that are not readonly, allow keyboard nav\n        [this.element.find('input'), {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(function (e) {\n            if ($.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1) this.update();\n          }, this),\n          keydown: $.proxy(this.keydown, this)\n        }], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n      } else if (this.element.is('div')) {\n        // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this)\n        }]];\n      }\n      this._events.push(\n      // Component: listen for blur on element descendants\n      [this.element, '*', {\n        blur: $.proxy(function (e) {\n          this._focused_from = e.target;\n        }, this)\n      }],\n      // Input: listen for blur on element\n      [this.element, {\n        blur: $.proxy(function (e) {\n          this._focused_from = e.target;\n        }, this)\n      }]);\n      this._secondaryEvents = [[this.picker, {\n        click: $.proxy(this.click, this)\n      }], [$(window), {\n        resize: $.proxy(this.place, this)\n      }], [$(document), {\n        'mousedown touchstart': $.proxy(function (e) {\n          // Clicked outside the datepicker, hide it\n          if (!(this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length)) {\n            this.hide();\n          }\n        }, this)\n      }]];\n    },\n    _attachEvents: function _attachEvents() {\n      this._detachEvents();\n      this._applyEvents(this._events);\n    },\n    _detachEvents: function _detachEvents() {\n      this._unapplyEvents(this._events);\n    },\n    _attachSecondaryEvents: function _attachSecondaryEvents() {\n      this._detachSecondaryEvents();\n      this._applyEvents(this._secondaryEvents);\n    },\n    _detachSecondaryEvents: function _detachSecondaryEvents() {\n      this._unapplyEvents(this._secondaryEvents);\n    },\n    _trigger: function _trigger(event, altdate) {\n      var date = altdate || this.dates.get(-1),\n        local_date = this._utc_to_local(date);\n      this.element.trigger({\n        type: event,\n        date: local_date,\n        dates: $.map(this.dates, this._utc_to_local),\n        format: $.proxy(function (ix, format) {\n          if (arguments.length === 0) {\n            ix = this.dates.length - 1;\n            format = this.o.format;\n          } else if (typeof ix === 'string') {\n            format = ix;\n            ix = this.dates.length - 1;\n          }\n          format = format || this.o.format;\n          var date = this.dates.get(ix);\n          return DPGlobal.formatDate(date, format, this.o.language);\n        }, this)\n      });\n    },\n    show: function show() {\n      if (!this.isInline) this.picker.appendTo('body');\n      this.picker.show();\n      this.place();\n      this._attachSecondaryEvents();\n      this._trigger('show');\n    },\n    hide: function hide() {\n      if (this.isInline) return;\n      if (!this.picker.is(':visible')) return;\n      this.focusDate = null;\n      this.picker.hide().detach();\n      this._detachSecondaryEvents();\n      this.viewMode = this.o.startView;\n      this.showMode();\n      if (this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find('input').val())) this.setValue();\n      this._trigger('hide');\n    },\n    remove: function remove() {\n      this.hide();\n      this._detachEvents();\n      this._detachSecondaryEvents();\n      this.picker.remove();\n      delete this.element.data().datepicker;\n      if (!this.isInput) {\n        delete this.element.data().date;\n      }\n    },\n    _utc_to_local: function _utc_to_local(utc) {\n      return utc && new Date(utc.getTime() + utc.getTimezoneOffset() * 60000);\n    },\n    _local_to_utc: function _local_to_utc(local) {\n      return local && new Date(local.getTime() - local.getTimezoneOffset() * 60000);\n    },\n    _zero_time: function _zero_time(local) {\n      return local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\n    },\n    _zero_utc_time: function _zero_utc_time(utc) {\n      return utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\n    },\n    getDates: function getDates() {\n      return $.map(this.dates, this._utc_to_local);\n    },\n    getUTCDates: function getUTCDates() {\n      return $.map(this.dates, function (d) {\n        return new Date(d);\n      });\n    },\n    getDate: function getDate() {\n      return this._utc_to_local(this.getUTCDate());\n    },\n    getUTCDate: function getUTCDate() {\n      return new Date(this.dates.get(-1));\n    },\n    setDates: function setDates() {\n      var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n      this.update.apply(this, args);\n      this._trigger('changeDate');\n      this.setValue();\n    },\n    setUTCDates: function setUTCDates() {\n      var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n      this.update.apply(this, $.map(args, this._utc_to_local));\n      this._trigger('changeDate');\n      this.setValue();\n    },\n    setDate: alias('setDates'),\n    setUTCDate: alias('setUTCDates'),\n    setValue: function setValue() {\n      var formatted = this.getFormattedDate();\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find('input').val(formatted).change();\n        }\n      } else {\n        this.element.val(formatted).change();\n      }\n    },\n    getFormattedDate: function getFormattedDate(format) {\n      if (format === undefined) format = this.o.format;\n      var lang = this.o.language;\n      return $.map(this.dates, function (d) {\n        return DPGlobal.formatDate(d, format, lang);\n      }).join(this.o.multidateSeparator);\n    },\n    setStartDate: function setStartDate(startDate) {\n      this._process_options({\n        startDate: startDate\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setEndDate: function setEndDate(endDate) {\n      this._process_options({\n        endDate: endDate\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    setDaysOfWeekDisabled: function setDaysOfWeekDisabled(daysOfWeekDisabled) {\n      this._process_options({\n        daysOfWeekDisabled: daysOfWeekDisabled\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function place() {\n      if (this.isInline) return;\n      var calendarWidth = this.picker.outerWidth(),\n        calendarHeight = this.picker.outerHeight(),\n        visualPadding = 10,\n        windowWidth = $window.width(),\n        windowHeight = $window.height(),\n        scrollTop = $window.scrollTop();\n      var zIndex = parseInt(this.element.parents().filter(function () {\n        return $(this).css('z-index') !== 'auto';\n      }).first().css('z-index')) + 10;\n      var offset = this.component ? this.component.parent().offset() : this.element.offset();\n      var height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\n      var width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\n      var left = offset.left,\n        top = offset.top;\n      this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom ' + 'datepicker-orient-right datepicker-orient-left');\n      if (this.o.orientation.x !== 'auto') {\n        this.picker.addClass('datepicker-orient-' + this.o.orientation.x);\n        if (this.o.orientation.x === 'right') left -= calendarWidth - width;\n      }\n      // auto x orientation is best-placement: if it crosses a window\n      // edge, fudge it sideways\n      else {\n        // Default to left\n        this.picker.addClass('datepicker-orient-left');\n        if (offset.left < 0) left -= offset.left - visualPadding;else if (offset.left + calendarWidth > windowWidth) left = windowWidth - calendarWidth - visualPadding;\n      }\n\n      // auto y orientation is best-situation: top or bottom, no fudging,\n      // decision based on which shows more of the calendar\n      var yorient = this.o.orientation.y,\n        top_overflow,\n        bottom_overflow;\n      if (yorient === 'auto') {\n        top_overflow = -scrollTop + offset.top - calendarHeight;\n        bottom_overflow = scrollTop + windowHeight - (offset.top + height + calendarHeight);\n        if (Math.max(top_overflow, bottom_overflow) === bottom_overflow) yorient = 'top';else yorient = 'bottom';\n      }\n      this.picker.addClass('datepicker-orient-' + yorient);\n      if (yorient === 'top') top += height;else top -= calendarHeight + parseInt(this.picker.css('padding-top'));\n      this.picker.css({\n        top: top,\n        left: left,\n        zIndex: zIndex\n      });\n    },\n    _allow_update: true,\n    update: function update() {\n      if (!this._allow_update) return;\n      var oldDates = this.dates.copy(),\n        dates = [],\n        fromArgs = false;\n      if (arguments.length) {\n        $.each(arguments, $.proxy(function (i, date) {\n          if (date instanceof Date) date = this._local_to_utc(date);\n          dates.push(date);\n        }, this));\n        fromArgs = true;\n      } else {\n        dates = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n        if (dates && this.o.multidate) dates = dates.split(this.o.multidateSeparator);else dates = [dates];\n        delete this.element.data().date;\n      }\n      dates = $.map(dates, $.proxy(function (date) {\n        return DPGlobal.parseDate(date, this.o.format, this.o.language);\n      }, this));\n      dates = $.grep(dates, $.proxy(function (date) {\n        return date < this.o.startDate || date > this.o.endDate || !date;\n      }, this), true);\n      this.dates.replace(dates);\n      if (this.dates.length) this.viewDate = new Date(this.dates.get(-1));else if (this.viewDate < this.o.startDate) this.viewDate = new Date(this.o.startDate);else if (this.viewDate > this.o.endDate) this.viewDate = new Date(this.o.endDate);\n      if (fromArgs) {\n        // setting date by clicking\n        this.setValue();\n      } else if (dates.length) {\n        // setting date by typing\n        if (String(oldDates) !== String(this.dates)) this._trigger('changeDate');\n      }\n      if (!this.dates.length && oldDates.length) this._trigger('clearDate');\n      this.fill();\n    },\n    fillDow: function fillDow() {\n      var dowCnt = this.o.weekStart,\n        html = '<tr>';\n      if (this.o.calendarWeeks) {\n        var cell = '<th class=\"cw\">&nbsp;</th>';\n        html += cell;\n        this.picker.find('.datepicker-days thead tr:first-child').prepend(cell);\n      }\n      while (dowCnt < this.o.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.o.language].daysMin[dowCnt++ % 7] + '</th>';\n      }\n      html += '</tr>';\n      this.picker.find('.datepicker-days thead').append(html);\n    },\n    fillMonths: function fillMonths() {\n      var html = '',\n        i = 0;\n      while (i < 12) {\n        html += '<span class=\"month\">' + dates[this.o.language].monthsShort[i++] + '</span>';\n      }\n      this.picker.find('.datepicker-months td').html(html);\n    },\n    setRange: function setRange(range) {\n      if (!range || !range.length) delete this.range;else this.range = $.map(range, function (d) {\n        return d.valueOf();\n      });\n      this.fill();\n    },\n    getClassNames: function getClassNames(date) {\n      var cls = [],\n        year = this.viewDate.getUTCFullYear(),\n        month = this.viewDate.getUTCMonth(),\n        today = new Date();\n      if (date.getUTCFullYear() < year || date.getUTCFullYear() === year && date.getUTCMonth() < month) {\n        cls.push('old');\n      } else if (date.getUTCFullYear() > year || date.getUTCFullYear() === year && date.getUTCMonth() > month) {\n        cls.push('new');\n      }\n      if (this.focusDate && date.valueOf() === this.focusDate.valueOf()) cls.push('focused');\n      // Compare internal UTC date with local today, not UTC today\n      if (this.o.todayHighlight && date.getUTCFullYear() === today.getFullYear() && date.getUTCMonth() === today.getMonth() && date.getUTCDate() === today.getDate()) {\n        cls.push('today');\n      }\n      if (this.dates.contains(date) !== -1) cls.push('active');\n      if (date.valueOf() < this.o.startDate || date.valueOf() > this.o.endDate || $.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1) {\n        cls.push('disabled');\n      }\n      if (this.range) {\n        if (date > this.range[0] && date < this.range[this.range.length - 1]) {\n          cls.push('range');\n        }\n        if ($.inArray(date.valueOf(), this.range) !== -1) {\n          cls.push('selected');\n        }\n      }\n      return cls;\n    },\n    fill: function fill() {\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        startYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,\n        startMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,\n        endYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,\n        endMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,\n        todaytxt = dates[this.o.language].today || dates['en'].today || '',\n        cleartxt = dates[this.o.language].clear || dates['en'].clear || '',\n        tooltip;\n      this.picker.find('.datepicker-days thead th.datepicker-switch').text(dates[this.o.language].months[month] + ' ' + year);\n      this.picker.find('tfoot th.today').text(todaytxt).toggle(this.o.todayBtn !== false);\n      this.picker.find('tfoot th.clear').text(cleartxt).toggle(this.o.clearBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28),\n        day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() === this.o.weekStart) {\n          html.push('<tr>');\n          if (this.o.calendarWeeks) {\n            // ISO 8601: First week contains first thursday.\n            // ISO also states week starts on Monday, but we can be more abstract here.\n            var\n              // Start of current week: based on weekstart/current date\n              ws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),\n              // Thursday of this week\n              th = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 864e5),\n              // First Thursday of year, year from thursday\n              yth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay()) % 7 * 864e5),\n              // Calendar week: ms between thursdays, div ms per day, div 7 days\n              calWeek = (th - yth) / 864e5 / 7 + 1;\n            html.push('<td class=\"cw\">' + calWeek + '</td>');\n          }\n        }\n        clsName = this.getClassNames(prevMonth);\n        clsName.push('day');\n        if (this.o.beforeShowDay !== $.noop) {\n          var before = this.o.beforeShowDay(this._utc_to_local(prevMonth));\n          if (before === undefined) before = {};else if (typeof before === 'boolean') before = {\n            enabled: before\n          };else if (typeof before === 'string') before = {\n            classes: before\n          };\n          if (before.enabled === false) clsName.push('disabled');\n          if (before.classes) clsName = clsName.concat(before.classes.split(/\\s+/));\n          if (before.tooltip) tooltip = before.tooltip;\n        }\n        clsName = $.unique(clsName);\n        html.push('<td class=\"' + clsName.join(' ') + '\"' + (tooltip ? ' title=\"' + tooltip + '\"' : '') + '>' + prevMonth.getUTCDate() + '</td>');\n        if (prevMonth.getUTCDay() === this.o.weekEnd) {\n          html.push('</tr>');\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n      var months = this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');\n      $.each(this.dates, function (i, d) {\n        if (d.getUTCFullYear() === year) months.eq(d.getUTCMonth()).addClass('active');\n      });\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n      if (year === startYear) {\n        months.slice(0, startMonth).addClass('disabled');\n      }\n      if (year === endYear) {\n        months.slice(endMonth + 1).addClass('disabled');\n      }\n      html = '';\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find('.datepicker-years').find('th:eq(1)').text(year + '-' + (year + 9)).end().find('td');\n      year -= 1;\n      var years = $.map(this.dates, function (d) {\n          return d.getUTCFullYear();\n        }),\n        classes;\n      for (var i = -1; i < 11; i++) {\n        classes = ['year'];\n        if (i === -1) classes.push('old');else if (i === 10) classes.push('new');\n        if ($.inArray(year, years) !== -1) classes.push('active');\n        if (year < startYear || year > endYear) classes.push('disabled');\n        html += '<span class=\"' + classes.join(' ') + '\">' + year + '</span>';\n        year += 1;\n      }\n      yearCont.html(html);\n    },\n    updateNavArrows: function updateNavArrows() {\n      if (!this._allow_update) return;\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth();\n      switch (this.viewMode) {\n        case 0:\n          if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n          if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n          break;\n        case 1:\n        case 2:\n          if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n          if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n          break;\n      }\n    },\n    click: function click(e) {\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th'),\n        year,\n        month,\n        day;\n      if (target.length === 1) {\n        switch (target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch (target[0].className) {\n              case 'datepicker-switch':\n                this.showMode(1);\n                break;\n              case 'prev':\n              case 'next':\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    this._trigger('changeMonth', this.viewDate);\n                    break;\n                  case 1:\n                  case 2:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    if (this.viewMode === 1) this._trigger('changeYear', this.viewDate);\n                    break;\n                }\n                this.fill();\n                break;\n              case 'today':\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n                this.showMode(-2);\n                var which = this.o.todayBtn === 'linked' ? null : 'view';\n                this._setDate(date, which);\n                break;\n              case 'clear':\n                var element;\n                if (this.isInput) element = this.element;else if (this.component) element = this.element.find('input');\n                if (element) element.val(\"\").change();\n                this.update();\n                this._trigger('changeDate');\n                if (this.o.autoclose) this.hide();\n                break;\n            }\n            break;\n          case 'span':\n            if (!target.is('.disabled')) {\n              this.viewDate.setUTCDate(1);\n              if (target.is('.month')) {\n                day = 1;\n                month = target.parent().find('span').index(target);\n                year = this.viewDate.getUTCFullYear();\n                this.viewDate.setUTCMonth(month);\n                this._trigger('changeMonth', this.viewDate);\n                if (this.o.minViewMode === 1) {\n                  this._setDate(UTCDate(year, month, day));\n                }\n              } else {\n                day = 1;\n                month = 0;\n                year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this._trigger('changeYear', this.viewDate);\n                if (this.o.minViewMode === 2) {\n                  this._setDate(UTCDate(year, month, day));\n                }\n              }\n              this.showMode(-1);\n              this.fill();\n            }\n            break;\n          case 'td':\n            if (target.is('.day') && !target.is('.disabled')) {\n              day = parseInt(target.text(), 10) || 1;\n              year = this.viewDate.getUTCFullYear();\n              month = this.viewDate.getUTCMonth();\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month === 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n              this._setDate(UTCDate(year, month, day));\n            }\n            break;\n        }\n      }\n      if (this.picker.is(':visible') && this._focused_from) {\n        $(this._focused_from).focus();\n      }\n      delete this._focused_from;\n    },\n    _toggle_multidate: function _toggle_multidate(date) {\n      var ix = this.dates.contains(date);\n      if (!date) {\n        this.dates.clear();\n      } else if (ix !== -1) {\n        this.dates.remove(ix);\n      } else {\n        this.dates.push(date);\n      }\n      if (typeof this.o.multidate === 'number') while (this.dates.length > this.o.multidate) this.dates.remove(0);\n    },\n    _setDate: function _setDate(date, which) {\n      if (!which || which === 'date') this._toggle_multidate(date && new Date(date));\n      if (!which || which === 'view') this.viewDate = date && new Date(date);\n      this.fill();\n      this.setValue();\n      this._trigger('changeDate');\n      var element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n      if (element) {\n        element.change();\n      }\n      if (this.o.autoclose && (!which || which === 'date')) {\n        this.hide();\n      }\n    },\n    moveMonth: function moveMonth(date, dir) {\n      if (!date) return undefined;\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n        day = new_date.getUTCDate(),\n        month = new_date.getUTCMonth(),\n        mag = Math.abs(dir),\n        new_month,\n        test;\n      dir = dir > 0 ? 1 : -1;\n      if (mag === 1) {\n        test = dir === -1\n        // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() === month;\n        }\n        // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() !== new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month);\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n        if (new_month < 0 || new_month > 11) new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++)\n        // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n        new_date = this.moveMonth(new_date, dir);\n        // ...then reset the day, keeping it in the new month\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n        test = function test() {\n          return new_month !== new_date.getUTCMonth();\n        };\n      }\n      // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n      return new_date;\n    },\n    moveYear: function moveYear(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    dateWithinRange: function dateWithinRange(date) {\n      return date >= this.o.startDate && date <= this.o.endDate;\n    },\n    keydown: function keydown(e) {\n      if (this.picker.is(':not(:visible)')) {\n        if (e.keyCode === 27)\n          // allow escape to hide and re-show picker\n          this.show();\n        return;\n      }\n      var dateChanged = false,\n        dir,\n        newDate,\n        newViewDate,\n        focusDate = this.focusDate || this.viewDate;\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          if (this.focusDate) {\n            this.focusDate = null;\n            this.viewDate = this.dates.get(-1) || this.viewDate;\n            this.fill();\n          } else this.hide();\n          e.preventDefault();\n          break;\n        case 37: // left\n        case 39:\n          // right\n          if (!this.o.keyboardNavigation) break;\n          dir = e.keyCode === 37 ? -1 : 1;\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveYear(focusDate, dir);\n            this._trigger('changeYear', this.viewDate);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveMonth(focusDate, dir);\n            this._trigger('changeMonth', this.viewDate);\n          } else {\n            newDate = new Date(this.dates.get(-1) || UTCToday());\n            newDate.setUTCDate(newDate.getUTCDate() + dir);\n            newViewDate = new Date(focusDate);\n            newViewDate.setUTCDate(focusDate.getUTCDate() + dir);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.focusDate = this.viewDate = newViewDate;\n            this.setValue();\n            this.fill();\n            e.preventDefault();\n          }\n          break;\n        case 38: // up\n        case 40:\n          // down\n          if (!this.o.keyboardNavigation) break;\n          dir = e.keyCode === 38 ? -1 : 1;\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveYear(focusDate, dir);\n            this._trigger('changeYear', this.viewDate);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveMonth(focusDate, dir);\n            this._trigger('changeMonth', this.viewDate);\n          } else {\n            newDate = new Date(this.dates.get(-1) || UTCToday());\n            newDate.setUTCDate(newDate.getUTCDate() + dir * 7);\n            newViewDate = new Date(focusDate);\n            newViewDate.setUTCDate(focusDate.getUTCDate() + dir * 7);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.focusDate = this.viewDate = newViewDate;\n            this.setValue();\n            this.fill();\n            e.preventDefault();\n          }\n          break;\n        case 32:\n          // spacebar\n          // Spacebar is used in manually typing dates in some formats.\n          // As such, its behavior should not be hijacked.\n          break;\n        case 13:\n          // enter\n          focusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\n          this._toggle_multidate(focusDate);\n          dateChanged = true;\n          this.focusDate = null;\n          this.viewDate = this.dates.get(-1) || this.viewDate;\n          this.setValue();\n          this.fill();\n          if (this.picker.is(':visible')) {\n            e.preventDefault();\n            if (this.o.autoclose) this.hide();\n          }\n          break;\n        case 9:\n          // tab\n          this.focusDate = null;\n          this.viewDate = this.dates.get(-1) || this.viewDate;\n          this.fill();\n          this.hide();\n          break;\n      }\n      if (dateChanged) {\n        if (this.dates.length) this._trigger('changeDate');else this._trigger('clearDate');\n        var element;\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find('input');\n        }\n        if (element) {\n          element.change();\n        }\n      }\n    },\n    showMode: function showMode(dir) {\n      if (dir) {\n        this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + dir));\n      }\n      this.picker.find('>div').hide().filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n      this.updateNavArrows();\n    }\n  };\n  var DateRangePicker = function DateRangePicker(element, options) {\n    this.element = $(element);\n    this.inputs = $.map(options.inputs, function (i) {\n      return i.jquery ? i[0] : i;\n    });\n    delete options.inputs;\n    $(this.inputs).datepicker(options).bind('changeDate', $.proxy(this.dateUpdated, this));\n    this.pickers = $.map(this.inputs, function (i) {\n      return $(i).data('datepicker');\n    });\n    this.updateDates();\n  };\n  DateRangePicker.prototype = {\n    updateDates: function updateDates() {\n      this.dates = $.map(this.pickers, function (i) {\n        return i.getUTCDate();\n      });\n      this.updateRanges();\n    },\n    updateRanges: function updateRanges() {\n      var range = $.map(this.dates, function (d) {\n        return d.valueOf();\n      });\n      $.each(this.pickers, function (i, p) {\n        p.setRange(range);\n      });\n    },\n    dateUpdated: function dateUpdated(e) {\n      // `this.updating` is a workaround for preventing infinite recursion\n      // between `changeDate` triggering and `setUTCDate` calling.  Until\n      // there is a better mechanism.\n      if (this.updating) return;\n      this.updating = true;\n      var dp = $(e.target).data('datepicker'),\n        new_date = dp.getUTCDate(),\n        i = $.inArray(e.target, this.inputs),\n        l = this.inputs.length;\n      if (i === -1) return;\n      $.each(this.pickers, function (i, p) {\n        if (!p.getUTCDate()) p.setUTCDate(new_date);\n      });\n      if (new_date < this.dates[i]) {\n        // Date being moved earlier/left\n        while (i >= 0 && new_date < this.dates[i]) {\n          this.pickers[i--].setUTCDate(new_date);\n        }\n      } else if (new_date > this.dates[i]) {\n        // Date being moved later/right\n        while (i < l && new_date > this.dates[i]) {\n          this.pickers[i++].setUTCDate(new_date);\n        }\n      }\n      this.updateDates();\n      delete this.updating;\n    },\n    remove: function remove() {\n      $.map(this.pickers, function (p) {\n        p.remove();\n      });\n      delete this.element.data().datepicker;\n    }\n  };\n  function opts_from_el(el, prefix) {\n    // Derive options from element data-attrs\n    var data = $(el).data(),\n      out = {},\n      inkey,\n      replace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\n    prefix = new RegExp('^' + prefix.toLowerCase());\n    function re_lower(_, a) {\n      return a.toLowerCase();\n    }\n    for (var key in data) if (prefix.test(key)) {\n      inkey = key.replace(replace, re_lower);\n      out[inkey] = data[key];\n    }\n    return out;\n  }\n  function opts_from_locale(lang) {\n    // Derive options from locale plugins\n    var out = {};\n    // Check if \"de-DE\" style date is available, if not language should\n    // fallback to 2 letter code eg \"de\"\n    if (!dates[lang]) {\n      lang = lang.split('-')[0];\n      if (!dates[lang]) return;\n    }\n    var d = dates[lang];\n    $.each(locale_opts, function (i, k) {\n      if (k in d) out[k] = d[k];\n    });\n    return out;\n  }\n  var old = $.fn.datepicker;\n  $.fn.datepicker = function (option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n    this.each(function () {\n      var $this = $(this),\n        data = $this.data('datepicker'),\n        options = typeof option === 'object' && option;\n      if (!data) {\n        var elopts = opts_from_el(this, 'date'),\n          // Preliminary otions\n          xopts = $.extend({}, defaults, elopts, options),\n          locopts = opts_from_locale(xopts.language),\n          // Options priority: js args, data-attrs, locales, defaults\n          opts = $.extend({}, defaults, locopts, elopts, options);\n        if ($this.is('.input-daterange') || opts.inputs) {\n          var ropts = {\n            inputs: opts.inputs || $this.find('input').toArray()\n          };\n          $this.data('datepicker', data = new DateRangePicker(this, $.extend(opts, ropts)));\n        } else {\n          $this.data('datepicker', data = new Datepicker(this, opts));\n        }\n      }\n      if (typeof option === 'string' && typeof data[option] === 'function') {\n        internal_return = data[option].apply(data, args);\n        if (internal_return !== undefined) return false;\n      }\n    });\n    if (internal_return !== undefined) return internal_return;else return this;\n  };\n  var defaults = $.fn.datepicker.defaults = {\n    autoclose: false,\n    beforeShowDay: $.noop,\n    calendarWeeks: false,\n    clearBtn: false,\n    daysOfWeekDisabled: [],\n    endDate: Infinity,\n    forceParse: true,\n    format: 'mm/dd/yyyy',\n    keyboardNavigation: true,\n    language: 'en',\n    minViewMode: 0,\n    multidate: false,\n    multidateSeparator: ',',\n    orientation: \"auto\",\n    rtl: false,\n    startDate: -Infinity,\n    startView: 0,\n    todayBtn: false,\n    todayHighlight: false,\n    weekStart: 0\n  };\n  var locale_opts = $.fn.datepicker.locale_opts = ['format', 'rtl', 'weekStart'];\n  $.fn.datepicker.Constructor = Datepicker;\n  var dates = $.fn.datepicker.dates = {\n    en: {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      clear: \"Clear\"\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: 'days',\n      navFnc: 'Month',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: 'FullYear',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: 'FullYear',\n      navStep: 10\n    }],\n    isLeapYear: function isLeapYear(year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function getDaysInMonth(year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function parseFormat(format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts, '\\0').split('\\0'),\n        parts = format.match(this.validParts);\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function parseDate(date, format, language) {\n      if (!date) return undefined;\n      if (date instanceof Date) return date;\n      if (typeof format === 'string') format = DPGlobal.parseFormat(format);\n      var part_re = /([\\-+]\\d+)([dmwy])/,\n        parts = date.match(/([\\-+]\\d+)([dmwy])/g),\n        part,\n        dir,\n        i;\n      if (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n        date = new Date();\n        for (i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          switch (part[2]) {\n            case 'd':\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n            case 'm':\n              date = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\n              break;\n            case 'w':\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n            case 'y':\n              date = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\n              break;\n          }\n        }\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\n      }\n      parts = date && date.match(this.nonpunctuation) || [];\n      date = new Date();\n      var parsed = {},\n        setters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n        setters_map = {\n          yyyy: function yyyy(d, v) {\n            return d.setUTCFullYear(v);\n          },\n          yy: function yy(d, v) {\n            return d.setUTCFullYear(2000 + v);\n          },\n          m: function m(d, v) {\n            if (isNaN(d)) return d;\n            v -= 1;\n            while (v < 0) v += 12;\n            v %= 12;\n            d.setUTCMonth(v);\n            while (d.getUTCMonth() !== v) d.setUTCDate(d.getUTCDate() - 1);\n            return d;\n          },\n          d: function d(_d, v) {\n            return _d.setUTCDate(v);\n          }\n        },\n        val,\n        filtered;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      var fparts = format.parts.slice();\n      // Remove noop parts\n      if (parts.length !== fparts.length) {\n        fparts = $(fparts).filter(function (i, p) {\n          return $.inArray(p, setters_order) !== -1;\n        }).toArray();\n      }\n      // Process remainder\n      function match_part() {\n        var m = this.slice(0, parts[i].length),\n          p = parts[i].slice(0, m.length);\n        return m === p;\n      }\n      if (parts.length === fparts.length) {\n        var cnt;\n        for (i = 0, cnt = fparts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = fparts[i];\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(match_part);\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(match_part);\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n            }\n          }\n          parsed[part] = val;\n        }\n        var _date, s;\n        for (i = 0; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s])) {\n            _date = new Date(date);\n            setters_map[s](_date, parsed[s]);\n            if (!isNaN(_date)) date = _date;\n          }\n        }\n      }\n      return date;\n    },\n    formatDate: function formatDate(date, format, language) {\n      if (!date) return '';\n      if (typeof format === 'string') format = DPGlobal.parseFormat(format);\n      var val = {\n        d: date.getUTCDate(),\n        D: dates[language].daysShort[date.getUTCDay()],\n        DD: dates[language].days[date.getUTCDay()],\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.dd = (val.d < 10 ? '0' : '') + val.d;\n      val.mm = (val.m < 10 ? '0' : '') + val.m;\n      date = [];\n      var seps = $.extend([], format.separators);\n      for (var i = 0, cnt = format.parts.length; i <= cnt; i++) {\n        if (seps.length) date.push(seps.shift());\n        date.push(val[format.parts[i]]);\n      }\n      return date.join('');\n    },\n    headTemplate: '<thead>' + '<tr>' + '<th class=\"prev\">&laquo;</th>' + '<th colspan=\"5\" class=\"datepicker-switch\"></th>' + '<th class=\"next\">&raquo;</th>' + '</tr>' + '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot>' + '<tr>' + '<th colspan=\"7\" class=\"today\"></th>' + '</tr>' + '<tr>' + '<th colspan=\"7\" class=\"clear\"></th>' + '</tr>' + '</tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datepicker\">' + '<div class=\"datepicker-days\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n  $.fn.datepicker.DPGlobal = DPGlobal;\n\n  /* DATEPICKER NO CONFLICT\r\n  * =================== */\n\n  $.fn.datepicker.noConflict = function () {\n    $.fn.datepicker = old;\n    return this;\n  };\n\n  /* DATEPICKER DATA-API\r\n  * ================== */\n\n  $(document).on('focus.datepicker.data-api click.datepicker.data-api', '[data-provide=\"datepicker\"]', function (e) {\n    var $this = $(this);\n    if ($this.data('datepicker')) return;\n    e.preventDefault();\n    // component click requires us to explicitly show it\n    $this.datepicker('show');\n  });\n  $(function () {\n    $('[data-provide=\"datepicker-inline\"]').datepicker();\n  });\n})(window.jQuery);","map":{"version":3,"names":["$","undefined","$window","window","UTCDate","Date","UTC","apply","arguments","UTCToday","today","getFullYear","getMonth","getDate","alias","method","DateArray","extras","get","i","slice","contains","d","val","valueOf","l","length","remove","splice","replace","new_array","isArray","clear","push","copy","a","extend","Datepicker","element","options","dates","viewDate","focusDate","_process_options","isInline","isInput","is","component","find","hasInput","picker","DPGlobal","template","_buildEvents","_attachEvents","addClass","appendTo","o","rtl","viewMode","startView","calendarWeeks","attr","parseInt","_allow_update","setStartDate","_o","startDate","setEndDate","endDate","setDaysOfWeekDisabled","daysOfWeekDisabled","fillDow","fillMonths","update","showMode","show","prototype","constructor","opts","lang","language","split","defaults","minViewMode","Math","max","multidate","Number","multidateSeparator","String","weekStart","weekEnd","format","parseFormat","Infinity","_local_to_utc","_zero_time","parseDate","map","plc","orientation","toLowerCase","_plc","grep","word","test","x","y","_events","_secondaryEvents","_applyEvents","evs","el","ch","ev","on","_unapplyEvents","off","focus","proxy","keyup","e","inArray","keyCode","keydown","click","blur","_focused_from","target","resize","place","document","hide","_detachEvents","_attachSecondaryEvents","_detachSecondaryEvents","_trigger","event","altdate","date","local_date","_utc_to_local","trigger","type","ix","formatDate","detach","forceParse","setValue","data","datepicker","utc","getTime","getTimezoneOffset","local","_zero_utc_time","getUTCFullYear","getUTCMonth","getUTCDate","getDates","getUTCDates","setDates","args","setUTCDates","setDate","setUTCDate","formatted","getFormattedDate","change","join","updateNavArrows","calendarWidth","outerWidth","calendarHeight","outerHeight","visualPadding","windowWidth","width","windowHeight","height","scrollTop","zIndex","parents","filter","css","first","offset","parent","left","top","removeClass","yorient","top_overflow","bottom_overflow","oldDates","fromArgs","each","fill","dowCnt","html","cell","prepend","daysMin","append","monthsShort","setRange","range","getClassNames","cls","year","month","todayHighlight","getUTCDay","startYear","startMonth","endYear","endMonth","todaytxt","cleartxt","tooltip","text","months","toggle","todayBtn","clearBtn","prevMonth","day","getDaysInMonth","nextMonth","clsName","ws","th","yth","calWeek","beforeShowDay","noop","before","enabled","classes","concat","unique","empty","end","eq","yearCont","years","visibility","preventDefault","closest","nodeName","className","dir","modes","navStep","moveMonth","moveYear","which","_setDate","autoclose","index","setUTCMonth","setUTCFullYear","_toggle_multidate","new_date","mag","abs","new_month","dateWithinRange","dateChanged","newDate","newViewDate","keyboardNavigation","ctrlKey","shiftKey","min","DateRangePicker","inputs","jquery","bind","dateUpdated","pickers","updateDates","updateRanges","p","updating","dp","opts_from_el","prefix","out","inkey","RegExp","re_lower","_","key","opts_from_locale","locale_opts","k","old","fn","option","Array","shift","internal_return","$this","elopts","xopts","locopts","ropts","toArray","Constructor","en","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","separators","parts","match","Error","part_re","part","exec","call","parsed","setters_order","setters_map","yyyy","v","yy","m","isNaN","filtered","fparts","match_part","cnt","_date","s","D","DD","M","MM","toString","substring","dd","mm","seps","headTemplate","contTemplate","footTemplate","noConflict","jQuery"],"sources":["/Users/018tmpind/Desktop/Rails project/Parampara/app/javascript/packs/js/datepicker.js"],"sourcesContent":["/* =========================================================\r\n * bootstrap-datepicker.js\r\n * Repo: https://github.com/eternicode/bootstrap-datepicker/\r\n * Demo: http://eternicode.github.io/bootstrap-datepicker/\r\n * Docs: http://bootstrap-datepicker.readthedocs.org/\r\n * Forked from http://www.eyecon.ro/bootstrap-datepicker\r\n * =========================================================\r\n * Started by Stefan Petre; improvements by Andrew Rowls + contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */\r\n\r\n(function($, undefined){\r\n\r\n\tvar $window = $(window);\r\n\r\n\tfunction UTCDate(){\r\n\t\treturn new Date(Date.UTC.apply(Date, arguments));\r\n\t}\r\n\tfunction UTCToday(){\r\n\t\tvar today = new Date();\r\n\t\treturn UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\r\n\t}\r\n\tfunction alias(method){\r\n\t\treturn function(){\r\n\t\t\treturn this[method].apply(this, arguments);\r\n\t\t};\r\n\t}\r\n\r\n\tvar DateArray = (function(){\r\n\t\tvar extras = {\r\n\t\t\tget: function(i){\r\n\t\t\t\treturn this.slice(i)[0];\r\n\t\t\t},\r\n\t\t\tcontains: function(d){\r\n\t\t\t\t// Array.indexOf is not cross-browser;\r\n\t\t\t\t// $.inArray doesn't work with Dates\r\n\t\t\t\tvar val = d && d.valueOf();\r\n\t\t\t\tfor (var i=0, l=this.length; i < l; i++)\r\n\t\t\t\t\tif (this[i].valueOf() === val)\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\treturn -1;\r\n\t\t\t},\r\n\t\t\tremove: function(i){\r\n\t\t\t\tthis.splice(i,1);\r\n\t\t\t},\r\n\t\t\treplace: function(new_array){\r\n\t\t\t\tif (!new_array)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tif (!$.isArray(new_array))\r\n\t\t\t\t\tnew_array = [new_array];\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tthis.push.apply(this, new_array);\r\n\t\t\t},\r\n\t\t\tclear: function(){\r\n\t\t\t\tthis.splice(0);\r\n\t\t\t},\r\n\t\t\tcopy: function(){\r\n\t\t\t\tvar a = new DateArray();\r\n\t\t\t\ta.replace(this);\r\n\t\t\t\treturn a;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn function(){\r\n\t\t\tvar a = [];\r\n\t\t\ta.push.apply(a, arguments);\r\n\t\t\t$.extend(a, extras);\r\n\t\t\treturn a;\r\n\t\t};\r\n\t})();\r\n\r\n\r\n\t// Picker object\r\n\r\n\tvar Datepicker = function(element, options){\r\n\t\tthis.dates = new DateArray();\r\n\t\tthis.viewDate = UTCToday();\r\n\t\tthis.focusDate = null;\r\n\r\n\t\tthis._process_options(options);\r\n\r\n\t\tthis.element = $(element);\r\n\t\tthis.isInline = false;\r\n\t\tthis.isInput = this.element.is('input');\r\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\r\n\t\tthis.hasInput = this.component && this.element.find('input').length;\r\n\t\tif (this.component && this.component.length === 0)\r\n\t\t\tthis.component = false;\r\n\r\n\t\tthis.picker = $(DPGlobal.template);\r\n\t\tthis._buildEvents();\r\n\t\tthis._attachEvents();\r\n\r\n\t\tif (this.isInline){\r\n\t\t\tthis.picker.addClass('datepicker-inline').appendTo(this.element);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.picker.addClass('datepicker-dropdown dropdown-menu');\r\n\t\t}\r\n\r\n\t\tif (this.o.rtl){\r\n\t\t\tthis.picker.addClass('datepicker-rtl');\r\n\t\t}\r\n\r\n\t\tthis.viewMode = this.o.startView;\r\n\r\n\t\tif (this.o.calendarWeeks)\r\n\t\t\tthis.picker.find('tfoot th.today')\r\n\t\t\t\t\t\t.attr('colspan', function(i, val){\r\n\t\t\t\t\t\t\treturn parseInt(val) + 1;\r\n\t\t\t\t\t\t});\r\n\r\n\t\tthis._allow_update = false;\r\n\r\n\t\tthis.setStartDate(this._o.startDate);\r\n\t\tthis.setEndDate(this._o.endDate);\r\n\t\tthis.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\r\n\r\n\t\tthis.fillDow();\r\n\t\tthis.fillMonths();\r\n\r\n\t\tthis._allow_update = true;\r\n\r\n\t\tthis.update();\r\n\t\tthis.showMode();\r\n\r\n\t\tif (this.isInline){\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t};\r\n\r\n\tDatepicker.prototype = {\r\n\t\tconstructor: Datepicker,\r\n\r\n\t\t_process_options: function(opts){\r\n\t\t\t// Store raw options for reference\r\n\t\t\tthis._o = $.extend({}, this._o, opts);\r\n\t\t\t// Processed options\r\n\t\t\tvar o = this.o = $.extend({}, this._o);\r\n\r\n\t\t\t// Check if \"de-DE\" style date is available, if not language should\r\n\t\t\t// fallback to 2 letter code eg \"de\"\r\n\t\t\tvar lang = o.language;\r\n\t\t\tif (!dates[lang]){\r\n\t\t\t\tlang = lang.split('-')[0];\r\n\t\t\t\tif (!dates[lang])\r\n\t\t\t\t\tlang = defaults.language;\r\n\t\t\t}\r\n\t\t\to.language = lang;\r\n\r\n\t\t\tswitch (o.startView){\r\n\t\t\t\tcase 2:\r\n\t\t\t\tcase 'decade':\r\n\t\t\t\t\to.startView = 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\tcase 'year':\r\n\t\t\t\t\to.startView = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\to.startView = 0;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (o.minViewMode){\r\n\t\t\t\tcase 1:\r\n\t\t\t\tcase 'months':\r\n\t\t\t\t\to.minViewMode = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\tcase 'years':\r\n\t\t\t\t\to.minViewMode = 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\to.minViewMode = 0;\r\n\t\t\t}\r\n\r\n\t\t\to.startView = Math.max(o.startView, o.minViewMode);\r\n\r\n\t\t\t// true, false, or Number > 0\r\n\t\t\tif (o.multidate !== true){\r\n\t\t\t\to.multidate = Number(o.multidate) || false;\r\n\t\t\t\tif (o.multidate !== false)\r\n\t\t\t\t\to.multidate = Math.max(0, o.multidate);\r\n\t\t\t\telse\r\n\t\t\t\t\to.multidate = 1;\r\n\t\t\t}\r\n\t\t\to.multidateSeparator = String(o.multidateSeparator);\r\n\r\n\t\t\to.weekStart %= 7;\r\n\t\t\to.weekEnd = ((o.weekStart + 6) % 7);\r\n\r\n\t\t\tvar format = DPGlobal.parseFormat(o.format);\r\n\t\t\tif (o.startDate !== -Infinity){\r\n\t\t\t\tif (!!o.startDate){\r\n\t\t\t\t\tif (o.startDate instanceof Date)\r\n\t\t\t\t\t\to.startDate = this._local_to_utc(this._zero_time(o.startDate));\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\to.startDate = DPGlobal.parseDate(o.startDate, format, o.language);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\to.startDate = -Infinity;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (o.endDate !== Infinity){\r\n\t\t\t\tif (!!o.endDate){\r\n\t\t\t\t\tif (o.endDate instanceof Date)\r\n\t\t\t\t\t\to.endDate = this._local_to_utc(this._zero_time(o.endDate));\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\to.endDate = DPGlobal.parseDate(o.endDate, format, o.language);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\to.endDate = Infinity;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\to.daysOfWeekDisabled = o.daysOfWeekDisabled||[];\r\n\t\t\tif (!$.isArray(o.daysOfWeekDisabled))\r\n\t\t\t\to.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\r\n\t\t\to.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function(d){\r\n\t\t\t\treturn parseInt(d, 10);\r\n\t\t\t});\r\n\r\n\t\t\tvar plc = String(o.orientation).toLowerCase().split(/\\s+/g),\r\n\t\t\t\t_plc = o.orientation.toLowerCase();\r\n\t\t\tplc = $.grep(plc, function(word){\r\n\t\t\t\treturn (/^auto|left|right|top|bottom$/).test(word);\r\n\t\t\t});\r\n\t\t\to.orientation = {x: 'auto', y: 'auto'};\r\n\t\t\tif (!_plc || _plc === 'auto')\r\n\t\t\t\t; // no action\r\n\t\t\telse if (plc.length === 1){\r\n\t\t\t\tswitch (plc[0]){\r\n\t\t\t\t\tcase 'top':\r\n\t\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t\to.orientation.y = plc[0];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'left':\r\n\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\to.orientation.x = plc[0];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_plc = $.grep(plc, function(word){\r\n\t\t\t\t\treturn (/^left|right$/).test(word);\r\n\t\t\t\t});\r\n\t\t\t\to.orientation.x = _plc[0] || 'auto';\r\n\r\n\t\t\t\t_plc = $.grep(plc, function(word){\r\n\t\t\t\t\treturn (/^top|bottom$/).test(word);\r\n\t\t\t\t});\r\n\t\t\t\to.orientation.y = _plc[0] || 'auto';\r\n\t\t\t}\r\n\t\t},\r\n\t\t_events: [],\r\n\t\t_secondaryEvents: [],\r\n\t\t_applyEvents: function(evs){\r\n\t\t\tfor (var i=0, el, ch, ev; i < evs.length; i++){\r\n\t\t\t\tel = evs[i][0];\r\n\t\t\t\tif (evs[i].length === 2){\r\n\t\t\t\t\tch = undefined;\r\n\t\t\t\t\tev = evs[i][1];\r\n\t\t\t\t}\r\n\t\t\t\telse if (evs[i].length === 3){\r\n\t\t\t\t\tch = evs[i][1];\r\n\t\t\t\t\tev = evs[i][2];\r\n\t\t\t\t}\r\n\t\t\t\tel.on(ev, ch);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_unapplyEvents: function(evs){\r\n\t\t\tfor (var i=0, el, ev, ch; i < evs.length; i++){\r\n\t\t\t\tel = evs[i][0];\r\n\t\t\t\tif (evs[i].length === 2){\r\n\t\t\t\t\tch = undefined;\r\n\t\t\t\t\tev = evs[i][1];\r\n\t\t\t\t}\r\n\t\t\t\telse if (evs[i].length === 3){\r\n\t\t\t\t\tch = evs[i][1];\r\n\t\t\t\t\tev = evs[i][2];\r\n\t\t\t\t}\r\n\t\t\t\tel.off(ev, ch);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_buildEvents: function(){\r\n\t\t\tif (this.isInput){ // single input\r\n\t\t\t\tthis._events = [\r\n\t\t\t\t\t[this.element, {\r\n\t\t\t\t\t\tfocus: $.proxy(this.show, this),\r\n\t\t\t\t\t\tkeyup: $.proxy(function(e){\r\n\t\t\t\t\t\t\tif ($.inArray(e.keyCode, [27,37,39,38,40,32,13,9]) === -1)\r\n\t\t\t\t\t\t\t\tthis.update();\r\n\t\t\t\t\t\t}, this),\r\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\r\n\t\t\t\t\t}]\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\telse if (this.component && this.hasInput){ // component: input + button\r\n\t\t\t\tthis._events = [\r\n\t\t\t\t\t// For components that are not readonly, allow keyboard nav\r\n\t\t\t\t\t[this.element.find('input'), {\r\n\t\t\t\t\t\tfocus: $.proxy(this.show, this),\r\n\t\t\t\t\t\tkeyup: $.proxy(function(e){\r\n\t\t\t\t\t\t\tif ($.inArray(e.keyCode, [27,37,39,38,40,32,13,9]) === -1)\r\n\t\t\t\t\t\t\t\tthis.update();\r\n\t\t\t\t\t\t}, this),\r\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t[this.component, {\r\n\t\t\t\t\t\tclick: $.proxy(this.show, this)\r\n\t\t\t\t\t}]\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\telse if (this.element.is('div')){  // inline datepicker\r\n\t\t\t\tthis.isInline = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._events = [\r\n\t\t\t\t\t[this.element, {\r\n\t\t\t\t\t\tclick: $.proxy(this.show, this)\r\n\t\t\t\t\t}]\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\tthis._events.push(\r\n\t\t\t\t// Component: listen for blur on element descendants\r\n\t\t\t\t[this.element, '*', {\r\n\t\t\t\t\tblur: $.proxy(function(e){\r\n\t\t\t\t\t\tthis._focused_from = e.target;\r\n\t\t\t\t\t}, this)\r\n\t\t\t\t}],\r\n\t\t\t\t// Input: listen for blur on element\r\n\t\t\t\t[this.element, {\r\n\t\t\t\t\tblur: $.proxy(function(e){\r\n\t\t\t\t\t\tthis._focused_from = e.target;\r\n\t\t\t\t\t}, this)\r\n\t\t\t\t}]\r\n\t\t\t);\r\n\r\n\t\t\tthis._secondaryEvents = [\r\n\t\t\t\t[this.picker, {\r\n\t\t\t\t\tclick: $.proxy(this.click, this)\r\n\t\t\t\t}],\r\n\t\t\t\t[$(window), {\r\n\t\t\t\t\tresize: $.proxy(this.place, this)\r\n\t\t\t\t}],\r\n\t\t\t\t[$(document), {\r\n\t\t\t\t\t'mousedown touchstart': $.proxy(function(e){\r\n\t\t\t\t\t\t// Clicked outside the datepicker, hide it\r\n\t\t\t\t\t\tif (!(\r\n\t\t\t\t\t\t\tthis.element.is(e.target) ||\r\n\t\t\t\t\t\t\tthis.element.find(e.target).length ||\r\n\t\t\t\t\t\t\tthis.picker.is(e.target) ||\r\n\t\t\t\t\t\t\tthis.picker.find(e.target).length\r\n\t\t\t\t\t\t)){\r\n\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this)\r\n\t\t\t\t}]\r\n\t\t\t];\r\n\t\t},\r\n\t\t_attachEvents: function(){\r\n\t\t\tthis._detachEvents();\r\n\t\t\tthis._applyEvents(this._events);\r\n\t\t},\r\n\t\t_detachEvents: function(){\r\n\t\t\tthis._unapplyEvents(this._events);\r\n\t\t},\r\n\t\t_attachSecondaryEvents: function(){\r\n\t\t\tthis._detachSecondaryEvents();\r\n\t\t\tthis._applyEvents(this._secondaryEvents);\r\n\t\t},\r\n\t\t_detachSecondaryEvents: function(){\r\n\t\t\tthis._unapplyEvents(this._secondaryEvents);\r\n\t\t},\r\n\t\t_trigger: function(event, altdate){\r\n\t\t\tvar date = altdate || this.dates.get(-1),\r\n\t\t\t\tlocal_date = this._utc_to_local(date);\r\n\r\n\t\t\tthis.element.trigger({\r\n\t\t\t\ttype: event,\r\n\t\t\t\tdate: local_date,\r\n\t\t\t\tdates: $.map(this.dates, this._utc_to_local),\r\n\t\t\t\tformat: $.proxy(function(ix, format){\r\n\t\t\t\t\tif (arguments.length === 0){\r\n\t\t\t\t\t\tix = this.dates.length - 1;\r\n\t\t\t\t\t\tformat = this.o.format;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (typeof ix === 'string'){\r\n\t\t\t\t\t\tformat = ix;\r\n\t\t\t\t\t\tix = this.dates.length - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tformat = format || this.o.format;\r\n\t\t\t\t\tvar date = this.dates.get(ix);\r\n\t\t\t\t\treturn DPGlobal.formatDate(date, format, this.o.language);\r\n\t\t\t\t}, this)\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tshow: function(){\r\n\t\t\tif (!this.isInline)\r\n\t\t\t\tthis.picker.appendTo('body');\r\n\t\t\tthis.picker.show();\r\n\t\t\tthis.place();\r\n\t\t\tthis._attachSecondaryEvents();\r\n\t\t\tthis._trigger('show');\r\n\t\t},\r\n\r\n\t\thide: function(){\r\n\t\t\tif (this.isInline)\r\n\t\t\t\treturn;\r\n\t\t\tif (!this.picker.is(':visible'))\r\n\t\t\t\treturn;\r\n\t\t\tthis.focusDate = null;\r\n\t\t\tthis.picker.hide().detach();\r\n\t\t\tthis._detachSecondaryEvents();\r\n\t\t\tthis.viewMode = this.o.startView;\r\n\t\t\tthis.showMode();\r\n\r\n\t\t\tif (\r\n\t\t\t\tthis.o.forceParse &&\r\n\t\t\t\t(\r\n\t\t\t\t\tthis.isInput && this.element.val() ||\r\n\t\t\t\t\tthis.hasInput && this.element.find('input').val()\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\tthis.setValue();\r\n\t\t\tthis._trigger('hide');\r\n\t\t},\r\n\r\n\t\tremove: function(){\r\n\t\t\tthis.hide();\r\n\t\t\tthis._detachEvents();\r\n\t\t\tthis._detachSecondaryEvents();\r\n\t\t\tthis.picker.remove();\r\n\t\t\tdelete this.element.data().datepicker;\r\n\t\t\tif (!this.isInput){\r\n\t\t\t\tdelete this.element.data().date;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_utc_to_local: function(utc){\r\n\t\t\treturn utc && new Date(utc.getTime() + (utc.getTimezoneOffset()*60000));\r\n\t\t},\r\n\t\t_local_to_utc: function(local){\r\n\t\t\treturn local && new Date(local.getTime() - (local.getTimezoneOffset()*60000));\r\n\t\t},\r\n\t\t_zero_time: function(local){\r\n\t\t\treturn local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\r\n\t\t},\r\n\t\t_zero_utc_time: function(utc){\r\n\t\t\treturn utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\r\n\t\t},\r\n\r\n\t\tgetDates: function(){\r\n\t\t\treturn $.map(this.dates, this._utc_to_local);\r\n\t\t},\r\n\r\n\t\tgetUTCDates: function(){\r\n\t\t\treturn $.map(this.dates, function(d){\r\n\t\t\t\treturn new Date(d);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetDate: function(){\r\n\t\t\treturn this._utc_to_local(this.getUTCDate());\r\n\t\t},\r\n\r\n\t\tgetUTCDate: function(){\r\n\t\t\treturn new Date(this.dates.get(-1));\r\n\t\t},\r\n\r\n\t\tsetDates: function(){\r\n\t\t\tvar args = $.isArray(arguments[0]) ? arguments[0] : arguments;\r\n\t\t\tthis.update.apply(this, args);\r\n\t\t\tthis._trigger('changeDate');\r\n\t\t\tthis.setValue();\r\n\t\t},\r\n\r\n\t\tsetUTCDates: function(){\r\n\t\t\tvar args = $.isArray(arguments[0]) ? arguments[0] : arguments;\r\n\t\t\tthis.update.apply(this, $.map(args, this._utc_to_local));\r\n\t\t\tthis._trigger('changeDate');\r\n\t\t\tthis.setValue();\r\n\t\t},\r\n\r\n\t\tsetDate: alias('setDates'),\r\n\t\tsetUTCDate: alias('setUTCDates'),\r\n\r\n\t\tsetValue: function(){\r\n\t\t\tvar formatted = this.getFormattedDate();\r\n\t\t\tif (!this.isInput){\r\n\t\t\t\tif (this.component){\r\n\t\t\t\t\tthis.element.find('input').val(formatted).change();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.element.val(formatted).change();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetFormattedDate: function(format){\r\n\t\t\tif (format === undefined)\r\n\t\t\t\tformat = this.o.format;\r\n\r\n\t\t\tvar lang = this.o.language;\r\n\t\t\treturn $.map(this.dates, function(d){\r\n\t\t\t\treturn DPGlobal.formatDate(d, format, lang);\r\n\t\t\t}).join(this.o.multidateSeparator);\r\n\t\t},\r\n\r\n\t\tsetStartDate: function(startDate){\r\n\t\t\tthis._process_options({startDate: startDate});\r\n\t\t\tthis.update();\r\n\t\t\tthis.updateNavArrows();\r\n\t\t},\r\n\r\n\t\tsetEndDate: function(endDate){\r\n\t\t\tthis._process_options({endDate: endDate});\r\n\t\t\tthis.update();\r\n\t\t\tthis.updateNavArrows();\r\n\t\t},\r\n\r\n\t\tsetDaysOfWeekDisabled: function(daysOfWeekDisabled){\r\n\t\t\tthis._process_options({daysOfWeekDisabled: daysOfWeekDisabled});\r\n\t\t\tthis.update();\r\n\t\t\tthis.updateNavArrows();\r\n\t\t},\r\n\r\n\t\tplace: function(){\r\n\t\t\tif (this.isInline)\r\n\t\t\t\treturn;\r\n\t\t\tvar calendarWidth = this.picker.outerWidth(),\r\n\t\t\t\tcalendarHeight = this.picker.outerHeight(),\r\n\t\t\t\tvisualPadding = 10,\r\n\t\t\t\twindowWidth = $window.width(),\r\n\t\t\t\twindowHeight = $window.height(),\r\n\t\t\t\tscrollTop = $window.scrollTop();\r\n\r\n\t\t\tvar zIndex = parseInt(this.element.parents().filter(function(){\r\n\t\t\t\t\treturn $(this).css('z-index') !== 'auto';\r\n\t\t\t\t}).first().css('z-index'))+10;\r\n\t\t\tvar offset = this.component ? this.component.parent().offset() : this.element.offset();\r\n\t\t\tvar height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\r\n\t\t\tvar width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\r\n\t\t\tvar left = offset.left,\r\n\t\t\t\ttop = offset.top;\r\n\r\n\t\t\tthis.picker.removeClass(\r\n\t\t\t\t'datepicker-orient-top datepicker-orient-bottom '+\r\n\t\t\t\t'datepicker-orient-right datepicker-orient-left'\r\n\t\t\t);\r\n\r\n\t\t\tif (this.o.orientation.x !== 'auto'){\r\n\t\t\t\tthis.picker.addClass('datepicker-orient-' + this.o.orientation.x);\r\n\t\t\t\tif (this.o.orientation.x === 'right')\r\n\t\t\t\t\tleft -= calendarWidth - width;\r\n\t\t\t}\r\n\t\t\t// auto x orientation is best-placement: if it crosses a window\r\n\t\t\t// edge, fudge it sideways\r\n\t\t\telse {\r\n\t\t\t\t// Default to left\r\n\t\t\t\tthis.picker.addClass('datepicker-orient-left');\r\n\t\t\t\tif (offset.left < 0)\r\n\t\t\t\t\tleft -= offset.left - visualPadding;\r\n\t\t\t\telse if (offset.left + calendarWidth > windowWidth)\r\n\t\t\t\t\tleft = windowWidth - calendarWidth - visualPadding;\r\n\t\t\t}\r\n\r\n\t\t\t// auto y orientation is best-situation: top or bottom, no fudging,\r\n\t\t\t// decision based on which shows more of the calendar\r\n\t\t\tvar yorient = this.o.orientation.y,\r\n\t\t\t\ttop_overflow, bottom_overflow;\r\n\t\t\tif (yorient === 'auto'){\r\n\t\t\t\ttop_overflow = -scrollTop + offset.top - calendarHeight;\r\n\t\t\t\tbottom_overflow = scrollTop + windowHeight - (offset.top + height + calendarHeight);\r\n\t\t\t\tif (Math.max(top_overflow, bottom_overflow) === bottom_overflow)\r\n\t\t\t\t\tyorient = 'top';\r\n\t\t\t\telse\r\n\t\t\t\t\tyorient = 'bottom';\r\n\t\t\t}\r\n\t\t\tthis.picker.addClass('datepicker-orient-' + yorient);\r\n\t\t\tif (yorient === 'top')\r\n\t\t\t\ttop += height;\r\n\t\t\telse\r\n\t\t\t\ttop -= calendarHeight + parseInt(this.picker.css('padding-top'));\r\n\r\n\t\t\tthis.picker.css({\r\n\t\t\t\ttop: top,\r\n\t\t\t\tleft: left,\r\n\t\t\t\tzIndex: zIndex\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_allow_update: true,\r\n\t\tupdate: function(){\r\n\t\t\tif (!this._allow_update)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar oldDates = this.dates.copy(),\r\n\t\t\t\tdates = [],\r\n\t\t\t\tfromArgs = false;\r\n\t\t\tif (arguments.length){\r\n\t\t\t\t$.each(arguments, $.proxy(function(i, date){\r\n\t\t\t\t\tif (date instanceof Date)\r\n\t\t\t\t\t\tdate = this._local_to_utc(date);\r\n\t\t\t\t\tdates.push(date);\r\n\t\t\t\t}, this));\r\n\t\t\t\tfromArgs = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdates = this.isInput\r\n\t\t\t\t\t\t? this.element.val()\r\n\t\t\t\t\t\t: this.element.data('date') || this.element.find('input').val();\r\n\t\t\t\tif (dates && this.o.multidate)\r\n\t\t\t\t\tdates = dates.split(this.o.multidateSeparator);\r\n\t\t\t\telse\r\n\t\t\t\t\tdates = [dates];\r\n\t\t\t\tdelete this.element.data().date;\r\n\t\t\t}\r\n\r\n\t\t\tdates = $.map(dates, $.proxy(function(date){\r\n\t\t\t\treturn DPGlobal.parseDate(date, this.o.format, this.o.language);\r\n\t\t\t}, this));\r\n\t\t\tdates = $.grep(dates, $.proxy(function(date){\r\n\t\t\t\treturn (\r\n\t\t\t\t\tdate < this.o.startDate ||\r\n\t\t\t\t\tdate > this.o.endDate ||\r\n\t\t\t\t\t!date\r\n\t\t\t\t);\r\n\t\t\t}, this), true);\r\n\t\t\tthis.dates.replace(dates);\r\n\r\n\t\t\tif (this.dates.length)\r\n\t\t\t\tthis.viewDate = new Date(this.dates.get(-1));\r\n\t\t\telse if (this.viewDate < this.o.startDate)\r\n\t\t\t\tthis.viewDate = new Date(this.o.startDate);\r\n\t\t\telse if (this.viewDate > this.o.endDate)\r\n\t\t\t\tthis.viewDate = new Date(this.o.endDate);\r\n\r\n\t\t\tif (fromArgs){\r\n\t\t\t\t// setting date by clicking\r\n\t\t\t\tthis.setValue();\r\n\t\t\t}\r\n\t\t\telse if (dates.length){\r\n\t\t\t\t// setting date by typing\r\n\t\t\t\tif (String(oldDates) !== String(this.dates))\r\n\t\t\t\t\tthis._trigger('changeDate');\r\n\t\t\t}\r\n\t\t\tif (!this.dates.length && oldDates.length)\r\n\t\t\t\tthis._trigger('clearDate');\r\n\r\n\t\t\tthis.fill();\r\n\t\t},\r\n\r\n\t\tfillDow: function(){\r\n\t\t\tvar dowCnt = this.o.weekStart,\r\n\t\t\t\thtml = '<tr>';\r\n\t\t\tif (this.o.calendarWeeks){\r\n\t\t\t\tvar cell = '<th class=\"cw\">&nbsp;</th>';\r\n\t\t\t\thtml += cell;\r\n\t\t\t\tthis.picker.find('.datepicker-days thead tr:first-child').prepend(cell);\r\n\t\t\t}\r\n\t\t\twhile (dowCnt < this.o.weekStart + 7){\r\n\t\t\t\thtml += '<th class=\"dow\">'+dates[this.o.language].daysMin[(dowCnt++)%7]+'</th>';\r\n\t\t\t}\r\n\t\t\thtml += '</tr>';\r\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\r\n\t\t},\r\n\r\n\t\tfillMonths: function(){\r\n\t\t\tvar html = '',\r\n\t\t\ti = 0;\r\n\t\t\twhile (i < 12){\r\n\t\t\t\thtml += '<span class=\"month\">'+dates[this.o.language].monthsShort[i++]+'</span>';\r\n\t\t\t}\r\n\t\t\tthis.picker.find('.datepicker-months td').html(html);\r\n\t\t},\r\n\r\n\t\tsetRange: function(range){\r\n\t\t\tif (!range || !range.length)\r\n\t\t\t\tdelete this.range;\r\n\t\t\telse\r\n\t\t\t\tthis.range = $.map(range, function(d){\r\n\t\t\t\t\treturn d.valueOf();\r\n\t\t\t\t});\r\n\t\t\tthis.fill();\r\n\t\t},\r\n\r\n\t\tgetClassNames: function(date){\r\n\t\t\tvar cls = [],\r\n\t\t\t\tyear = this.viewDate.getUTCFullYear(),\r\n\t\t\t\tmonth = this.viewDate.getUTCMonth(),\r\n\t\t\t\ttoday = new Date();\r\n\t\t\tif (date.getUTCFullYear() < year || (date.getUTCFullYear() === year && date.getUTCMonth() < month)){\r\n\t\t\t\tcls.push('old');\r\n\t\t\t}\r\n\t\t\telse if (date.getUTCFullYear() > year || (date.getUTCFullYear() === year && date.getUTCMonth() > month)){\r\n\t\t\t\tcls.push('new');\r\n\t\t\t}\r\n\t\t\tif (this.focusDate && date.valueOf() === this.focusDate.valueOf())\r\n\t\t\t\tcls.push('focused');\r\n\t\t\t// Compare internal UTC date with local today, not UTC today\r\n\t\t\tif (this.o.todayHighlight &&\r\n\t\t\t\tdate.getUTCFullYear() === today.getFullYear() &&\r\n\t\t\t\tdate.getUTCMonth() === today.getMonth() &&\r\n\t\t\t\tdate.getUTCDate() === today.getDate()){\r\n\t\t\t\tcls.push('today');\r\n\t\t\t}\r\n\t\t\tif (this.dates.contains(date) !== -1)\r\n\t\t\t\tcls.push('active');\r\n\t\t\tif (date.valueOf() < this.o.startDate || date.valueOf() > this.o.endDate ||\r\n\t\t\t\t$.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1){\r\n\t\t\t\tcls.push('disabled');\r\n\t\t\t}\r\n\t\t\tif (this.range){\r\n\t\t\t\tif (date > this.range[0] && date < this.range[this.range.length-1]){\r\n\t\t\t\t\tcls.push('range');\r\n\t\t\t\t}\r\n\t\t\t\tif ($.inArray(date.valueOf(), this.range) !== -1){\r\n\t\t\t\t\tcls.push('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn cls;\r\n\t\t},\r\n\r\n\t\tfill: function(){\r\n\t\t\tvar d = new Date(this.viewDate),\r\n\t\t\t\tyear = d.getUTCFullYear(),\r\n\t\t\t\tmonth = d.getUTCMonth(),\r\n\t\t\t\tstartYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,\r\n\t\t\t\tstartMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,\r\n\t\t\t\tendYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,\r\n\t\t\t\tendMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,\r\n\t\t\t\ttodaytxt = dates[this.o.language].today || dates['en'].today || '',\r\n\t\t\t\tcleartxt = dates[this.o.language].clear || dates['en'].clear || '',\r\n\t\t\t\ttooltip;\r\n\t\t\tthis.picker.find('.datepicker-days thead th.datepicker-switch')\r\n\t\t\t\t\t\t.text(dates[this.o.language].months[month]+' '+year);\r\n\t\t\tthis.picker.find('tfoot th.today')\r\n\t\t\t\t\t\t.text(todaytxt)\r\n\t\t\t\t\t\t.toggle(this.o.todayBtn !== false);\r\n\t\t\tthis.picker.find('tfoot th.clear')\r\n\t\t\t\t\t\t.text(cleartxt)\r\n\t\t\t\t\t\t.toggle(this.o.clearBtn !== false);\r\n\t\t\tthis.updateNavArrows();\r\n\t\t\tthis.fillMonths();\r\n\t\t\tvar prevMonth = UTCDate(year, month-1, 28),\r\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\r\n\t\t\tprevMonth.setUTCDate(day);\r\n\t\t\tprevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7)%7);\r\n\t\t\tvar nextMonth = new Date(prevMonth);\r\n\t\t\tnextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\r\n\t\t\tnextMonth = nextMonth.valueOf();\r\n\t\t\tvar html = [];\r\n\t\t\tvar clsName;\r\n\t\t\twhile (prevMonth.valueOf() < nextMonth){\r\n\t\t\t\tif (prevMonth.getUTCDay() === this.o.weekStart){\r\n\t\t\t\t\thtml.push('<tr>');\r\n\t\t\t\t\tif (this.o.calendarWeeks){\r\n\t\t\t\t\t\t// ISO 8601: First week contains first thursday.\r\n\t\t\t\t\t\t// ISO also states week starts on Monday, but we can be more abstract here.\r\n\t\t\t\t\t\tvar\r\n\t\t\t\t\t\t\t// Start of current week: based on weekstart/current date\r\n\t\t\t\t\t\t\tws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),\r\n\t\t\t\t\t\t\t// Thursday of this week\r\n\t\t\t\t\t\t\tth = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 864e5),\r\n\t\t\t\t\t\t\t// First Thursday of year, year from thursday\r\n\t\t\t\t\t\t\tyth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay())%7*864e5),\r\n\t\t\t\t\t\t\t// Calendar week: ms between thursdays, div ms per day, div 7 days\r\n\t\t\t\t\t\t\tcalWeek =  (th - yth) / 864e5 / 7 + 1;\r\n\t\t\t\t\t\thtml.push('<td class=\"cw\">'+ calWeek +'</td>');\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclsName = this.getClassNames(prevMonth);\r\n\t\t\t\tclsName.push('day');\r\n\r\n\t\t\t\tif (this.o.beforeShowDay !== $.noop){\r\n\t\t\t\t\tvar before = this.o.beforeShowDay(this._utc_to_local(prevMonth));\r\n\t\t\t\t\tif (before === undefined)\r\n\t\t\t\t\t\tbefore = {};\r\n\t\t\t\t\telse if (typeof(before) === 'boolean')\r\n\t\t\t\t\t\tbefore = {enabled: before};\r\n\t\t\t\t\telse if (typeof(before) === 'string')\r\n\t\t\t\t\t\tbefore = {classes: before};\r\n\t\t\t\t\tif (before.enabled === false)\r\n\t\t\t\t\t\tclsName.push('disabled');\r\n\t\t\t\t\tif (before.classes)\r\n\t\t\t\t\t\tclsName = clsName.concat(before.classes.split(/\\s+/));\r\n\t\t\t\t\tif (before.tooltip)\r\n\t\t\t\t\t\ttooltip = before.tooltip;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclsName = $.unique(clsName);\r\n\t\t\t\thtml.push('<td class=\"'+clsName.join(' ')+'\"' + (tooltip ? ' title=\"'+tooltip+'\"' : '') + '>'+prevMonth.getUTCDate() + '</td>');\r\n\t\t\t\tif (prevMonth.getUTCDay() === this.o.weekEnd){\r\n\t\t\t\t\thtml.push('</tr>');\r\n\t\t\t\t}\r\n\t\t\t\tprevMonth.setUTCDate(prevMonth.getUTCDate()+1);\r\n\t\t\t}\r\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\r\n\r\n\t\t\tvar months = this.picker.find('.datepicker-months')\r\n\t\t\t\t\t\t.find('th:eq(1)')\r\n\t\t\t\t\t\t\t.text(year)\r\n\t\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.find('span').removeClass('active');\r\n\r\n\t\t\t$.each(this.dates, function(i, d){\r\n\t\t\t\tif (d.getUTCFullYear() === year)\r\n\t\t\t\t\tmonths.eq(d.getUTCMonth()).addClass('active');\r\n\t\t\t});\r\n\r\n\t\t\tif (year < startYear || year > endYear){\r\n\t\t\t\tmonths.addClass('disabled');\r\n\t\t\t}\r\n\t\t\tif (year === startYear){\r\n\t\t\t\tmonths.slice(0, startMonth).addClass('disabled');\r\n\t\t\t}\r\n\t\t\tif (year === endYear){\r\n\t\t\t\tmonths.slice(endMonth+1).addClass('disabled');\r\n\t\t\t}\r\n\r\n\t\t\thtml = '';\r\n\t\t\tyear = parseInt(year/10, 10) * 10;\r\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\r\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\r\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\r\n\t\t\t\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t\t\t.find('td');\r\n\t\t\tyear -= 1;\r\n\t\t\tvar years = $.map(this.dates, function(d){\r\n\t\t\t\t\treturn d.getUTCFullYear();\r\n\t\t\t\t}),\r\n\t\t\t\tclasses;\r\n\t\t\tfor (var i = -1; i < 11; i++){\r\n\t\t\t\tclasses = ['year'];\r\n\t\t\t\tif (i === -1)\r\n\t\t\t\t\tclasses.push('old');\r\n\t\t\t\telse if (i === 10)\r\n\t\t\t\t\tclasses.push('new');\r\n\t\t\t\tif ($.inArray(year, years) !== -1)\r\n\t\t\t\t\tclasses.push('active');\r\n\t\t\t\tif (year < startYear || year > endYear)\r\n\t\t\t\t\tclasses.push('disabled');\r\n\t\t\t\thtml += '<span class=\"' + classes.join(' ') + '\">'+year+'</span>';\r\n\t\t\t\tyear += 1;\r\n\t\t\t}\r\n\t\t\tyearCont.html(html);\r\n\t\t},\r\n\r\n\t\tupdateNavArrows: function(){\r\n\t\t\tif (!this._allow_update)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar d = new Date(this.viewDate),\r\n\t\t\t\tyear = d.getUTCFullYear(),\r\n\t\t\t\tmonth = d.getUTCMonth();\r\n\t\t\tswitch (this.viewMode){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tif (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()){\r\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()){\r\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tif (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear()){\r\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear()){\r\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclick: function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tvar target = $(e.target).closest('span, td, th'),\r\n\t\t\t\tyear, month, day;\r\n\t\t\tif (target.length === 1){\r\n\t\t\t\tswitch (target[0].nodeName.toLowerCase()){\r\n\t\t\t\t\tcase 'th':\r\n\t\t\t\t\t\tswitch (target[0].className){\r\n\t\t\t\t\t\t\tcase 'datepicker-switch':\r\n\t\t\t\t\t\t\t\tthis.showMode(1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'prev':\r\n\t\t\t\t\t\t\tcase 'next':\r\n\t\t\t\t\t\t\t\tvar dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\r\n\t\t\t\t\t\t\t\tswitch (this.viewMode){\r\n\t\t\t\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t\t\t\tthis.viewDate = this.moveMonth(this.viewDate, dir);\r\n\t\t\t\t\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\t\t\tthis.viewDate = this.moveYear(this.viewDate, dir);\r\n\t\t\t\t\t\t\t\t\t\tif (this.viewMode === 1)\r\n\t\t\t\t\t\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.fill();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'today':\r\n\t\t\t\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\t\t\t\tdate = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n\r\n\t\t\t\t\t\t\t\tthis.showMode(-2);\r\n\t\t\t\t\t\t\t\tvar which = this.o.todayBtn === 'linked' ? null : 'view';\r\n\t\t\t\t\t\t\t\tthis._setDate(date, which);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'clear':\r\n\t\t\t\t\t\t\t\tvar element;\r\n\t\t\t\t\t\t\t\tif (this.isInput)\r\n\t\t\t\t\t\t\t\t\telement = this.element;\r\n\t\t\t\t\t\t\t\telse if (this.component)\r\n\t\t\t\t\t\t\t\t\telement = this.element.find('input');\r\n\t\t\t\t\t\t\t\tif (element)\r\n\t\t\t\t\t\t\t\t\telement.val(\"\").change();\r\n\t\t\t\t\t\t\t\tthis.update();\r\n\t\t\t\t\t\t\t\tthis._trigger('changeDate');\r\n\t\t\t\t\t\t\t\tif (this.o.autoclose)\r\n\t\t\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'span':\r\n\t\t\t\t\t\tif (!target.is('.disabled')){\r\n\t\t\t\t\t\t\tthis.viewDate.setUTCDate(1);\r\n\t\t\t\t\t\t\tif (target.is('.month')){\r\n\t\t\t\t\t\t\t\tday = 1;\r\n\t\t\t\t\t\t\t\tmonth = target.parent().find('span').index(target);\r\n\t\t\t\t\t\t\t\tyear = this.viewDate.getUTCFullYear();\r\n\t\t\t\t\t\t\t\tthis.viewDate.setUTCMonth(month);\r\n\t\t\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\r\n\t\t\t\t\t\t\t\tif (this.o.minViewMode === 1){\r\n\t\t\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tday = 1;\r\n\t\t\t\t\t\t\t\tmonth = 0;\r\n\t\t\t\t\t\t\t\tyear = parseInt(target.text(), 10)||0;\r\n\t\t\t\t\t\t\t\tthis.viewDate.setUTCFullYear(year);\r\n\t\t\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\r\n\t\t\t\t\t\t\t\tif (this.o.minViewMode === 2){\r\n\t\t\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.showMode(-1);\r\n\t\t\t\t\t\t\tthis.fill();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'td':\r\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\r\n\t\t\t\t\t\t\tday = parseInt(target.text(), 10)||1;\r\n\t\t\t\t\t\t\tyear = this.viewDate.getUTCFullYear();\r\n\t\t\t\t\t\t\tmonth = this.viewDate.getUTCMonth();\r\n\t\t\t\t\t\t\tif (target.is('.old')){\r\n\t\t\t\t\t\t\t\tif (month === 0){\r\n\t\t\t\t\t\t\t\t\tmonth = 11;\r\n\t\t\t\t\t\t\t\t\tyear -= 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tmonth -= 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (target.is('.new')){\r\n\t\t\t\t\t\t\t\tif (month === 11){\r\n\t\t\t\t\t\t\t\t\tmonth = 0;\r\n\t\t\t\t\t\t\t\t\tyear += 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tmonth += 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.picker.is(':visible') && this._focused_from){\r\n\t\t\t\t$(this._focused_from).focus();\r\n\t\t\t}\r\n\t\t\tdelete this._focused_from;\r\n\t\t},\r\n\r\n\t\t_toggle_multidate: function(date){\r\n\t\t\tvar ix = this.dates.contains(date);\r\n\t\t\tif (!date){\r\n\t\t\t\tthis.dates.clear();\r\n\t\t\t}\r\n\t\t\telse if (ix !== -1){\r\n\t\t\t\tthis.dates.remove(ix);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.dates.push(date);\r\n\t\t\t}\r\n\t\t\tif (typeof this.o.multidate === 'number')\r\n\t\t\t\twhile (this.dates.length > this.o.multidate)\r\n\t\t\t\t\tthis.dates.remove(0);\r\n\t\t},\r\n\r\n\t\t_setDate: function(date, which){\r\n\t\t\tif (!which || which === 'date')\r\n\t\t\t\tthis._toggle_multidate(date && new Date(date));\r\n\t\t\tif (!which || which  === 'view')\r\n\t\t\t\tthis.viewDate = date && new Date(date);\r\n\r\n\t\t\tthis.fill();\r\n\t\t\tthis.setValue();\r\n\t\t\tthis._trigger('changeDate');\r\n\t\t\tvar element;\r\n\t\t\tif (this.isInput){\r\n\t\t\t\telement = this.element;\r\n\t\t\t}\r\n\t\t\telse if (this.component){\r\n\t\t\t\telement = this.element.find('input');\r\n\t\t\t}\r\n\t\t\tif (element){\r\n\t\t\t\telement.change();\r\n\t\t\t}\r\n\t\t\tif (this.o.autoclose && (!which || which === 'date')){\r\n\t\t\t\tthis.hide();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmoveMonth: function(date, dir){\r\n\t\t\tif (!date)\r\n\t\t\t\treturn undefined;\r\n\t\t\tif (!dir)\r\n\t\t\t\treturn date;\r\n\t\t\tvar new_date = new Date(date.valueOf()),\r\n\t\t\t\tday = new_date.getUTCDate(),\r\n\t\t\t\tmonth = new_date.getUTCMonth(),\r\n\t\t\t\tmag = Math.abs(dir),\r\n\t\t\t\tnew_month, test;\r\n\t\t\tdir = dir > 0 ? 1 : -1;\r\n\t\t\tif (mag === 1){\r\n\t\t\t\ttest = dir === -1\r\n\t\t\t\t\t// If going back one month, make sure month is not current month\r\n\t\t\t\t\t// (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\r\n\t\t\t\t\t? function(){\r\n\t\t\t\t\t\treturn new_date.getUTCMonth() === month;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// If going forward one month, make sure month is as expected\r\n\t\t\t\t\t// (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\r\n\t\t\t\t\t: function(){\r\n\t\t\t\t\t\treturn new_date.getUTCMonth() !== new_month;\r\n\t\t\t\t\t};\r\n\t\t\t\tnew_month = month + dir;\r\n\t\t\t\tnew_date.setUTCMonth(new_month);\r\n\t\t\t\t// Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\r\n\t\t\t\tif (new_month < 0 || new_month > 11)\r\n\t\t\t\t\tnew_month = (new_month + 12) % 12;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// For magnitudes >1, move one month at a time...\r\n\t\t\t\tfor (var i=0; i < mag; i++)\r\n\t\t\t\t\t// ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\r\n\t\t\t\t\tnew_date = this.moveMonth(new_date, dir);\r\n\t\t\t\t// ...then reset the day, keeping it in the new month\r\n\t\t\t\tnew_month = new_date.getUTCMonth();\r\n\t\t\t\tnew_date.setUTCDate(day);\r\n\t\t\t\ttest = function(){\r\n\t\t\t\t\treturn new_month !== new_date.getUTCMonth();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t// Common date-resetting loop -- if date is beyond end of month, make it\r\n\t\t\t// end of month\r\n\t\t\twhile (test()){\r\n\t\t\t\tnew_date.setUTCDate(--day);\r\n\t\t\t\tnew_date.setUTCMonth(new_month);\r\n\t\t\t}\r\n\t\t\treturn new_date;\r\n\t\t},\r\n\r\n\t\tmoveYear: function(date, dir){\r\n\t\t\treturn this.moveMonth(date, dir*12);\r\n\t\t},\r\n\r\n\t\tdateWithinRange: function(date){\r\n\t\t\treturn date >= this.o.startDate && date <= this.o.endDate;\r\n\t\t},\r\n\r\n\t\tkeydown: function(e){\r\n\t\t\tif (this.picker.is(':not(:visible)')){\r\n\t\t\t\tif (e.keyCode === 27) // allow escape to hide and re-show picker\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar dateChanged = false,\r\n\t\t\t\tdir, newDate, newViewDate,\r\n\t\t\t\tfocusDate = this.focusDate || this.viewDate;\r\n\t\t\tswitch (e.keyCode){\r\n\t\t\t\tcase 27: // escape\r\n\t\t\t\t\tif (this.focusDate){\r\n\t\t\t\t\t\tthis.focusDate = null;\r\n\t\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\r\n\t\t\t\t\t\tthis.fill();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 37: // left\r\n\t\t\t\tcase 39: // right\r\n\t\t\t\t\tif (!this.o.keyboardNavigation)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdir = e.keyCode === 37 ? -1 : 1;\r\n\t\t\t\t\tif (e.ctrlKey){\r\n\t\t\t\t\t\tnewDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\r\n\t\t\t\t\t\tnewViewDate = this.moveYear(focusDate, dir);\r\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (e.shiftKey){\r\n\t\t\t\t\t\tnewDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\r\n\t\t\t\t\t\tnewViewDate = this.moveMonth(focusDate, dir);\r\n\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tnewDate = new Date(this.dates.get(-1) || UTCToday());\r\n\t\t\t\t\t\tnewDate.setUTCDate(newDate.getUTCDate() + dir);\r\n\t\t\t\t\t\tnewViewDate = new Date(focusDate);\r\n\t\t\t\t\t\tnewViewDate.setUTCDate(focusDate.getUTCDate() + dir);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.dateWithinRange(newDate)){\r\n\t\t\t\t\t\tthis.focusDate = this.viewDate = newViewDate;\r\n\t\t\t\t\t\tthis.setValue();\r\n\t\t\t\t\t\tthis.fill();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 38: // up\r\n\t\t\t\tcase 40: // down\r\n\t\t\t\t\tif (!this.o.keyboardNavigation)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdir = e.keyCode === 38 ? -1 : 1;\r\n\t\t\t\t\tif (e.ctrlKey){\r\n\t\t\t\t\t\tnewDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\r\n\t\t\t\t\t\tnewViewDate = this.moveYear(focusDate, dir);\r\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (e.shiftKey){\r\n\t\t\t\t\t\tnewDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\r\n\t\t\t\t\t\tnewViewDate = this.moveMonth(focusDate, dir);\r\n\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tnewDate = new Date(this.dates.get(-1) || UTCToday());\r\n\t\t\t\t\t\tnewDate.setUTCDate(newDate.getUTCDate() + dir * 7);\r\n\t\t\t\t\t\tnewViewDate = new Date(focusDate);\r\n\t\t\t\t\t\tnewViewDate.setUTCDate(focusDate.getUTCDate() + dir * 7);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.dateWithinRange(newDate)){\r\n\t\t\t\t\t\tthis.focusDate = this.viewDate = newViewDate;\r\n\t\t\t\t\t\tthis.setValue();\r\n\t\t\t\t\t\tthis.fill();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 32: // spacebar\r\n\t\t\t\t\t// Spacebar is used in manually typing dates in some formats.\r\n\t\t\t\t\t// As such, its behavior should not be hijacked.\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 13: // enter\r\n\t\t\t\t\tfocusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\r\n\t\t\t\t\tthis._toggle_multidate(focusDate);\r\n\t\t\t\t\tdateChanged = true;\r\n\t\t\t\t\tthis.focusDate = null;\r\n\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\r\n\t\t\t\t\tthis.setValue();\r\n\t\t\t\t\tthis.fill();\r\n\t\t\t\t\tif (this.picker.is(':visible')){\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif (this.o.autoclose)\r\n\t\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9: // tab\r\n\t\t\t\t\tthis.focusDate = null;\r\n\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\r\n\t\t\t\t\tthis.fill();\r\n\t\t\t\t\tthis.hide();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (dateChanged){\r\n\t\t\t\tif (this.dates.length)\r\n\t\t\t\t\tthis._trigger('changeDate');\r\n\t\t\t\telse\r\n\t\t\t\t\tthis._trigger('clearDate');\r\n\t\t\t\tvar element;\r\n\t\t\t\tif (this.isInput){\r\n\t\t\t\t\telement = this.element;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.component){\r\n\t\t\t\t\telement = this.element.find('input');\r\n\t\t\t\t}\r\n\t\t\t\tif (element){\r\n\t\t\t\t\telement.change();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tshowMode: function(dir){\r\n\t\t\tif (dir){\r\n\t\t\t\tthis.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + dir));\r\n\t\t\t}\r\n\t\t\tthis.picker\r\n\t\t\t\t.find('>div')\r\n\t\t\t\t.hide()\r\n\t\t\t\t.filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName)\r\n\t\t\t\t\t.css('display', 'block');\r\n\t\t\tthis.updateNavArrows();\r\n\t\t}\r\n\t};\r\n\r\n\tvar DateRangePicker = function(element, options){\r\n\t\tthis.element = $(element);\r\n\t\tthis.inputs = $.map(options.inputs, function(i){\r\n\t\t\treturn i.jquery ? i[0] : i;\r\n\t\t});\r\n\t\tdelete options.inputs;\r\n\r\n\t\t$(this.inputs)\r\n\t\t\t.datepicker(options)\r\n\t\t\t.bind('changeDate', $.proxy(this.dateUpdated, this));\r\n\r\n\t\tthis.pickers = $.map(this.inputs, function(i){\r\n\t\t\treturn $(i).data('datepicker');\r\n\t\t});\r\n\t\tthis.updateDates();\r\n\t};\r\n\tDateRangePicker.prototype = {\r\n\t\tupdateDates: function(){\r\n\t\t\tthis.dates = $.map(this.pickers, function(i){\r\n\t\t\t\treturn i.getUTCDate();\r\n\t\t\t});\r\n\t\t\tthis.updateRanges();\r\n\t\t},\r\n\t\tupdateRanges: function(){\r\n\t\t\tvar range = $.map(this.dates, function(d){\r\n\t\t\t\treturn d.valueOf();\r\n\t\t\t});\r\n\t\t\t$.each(this.pickers, function(i, p){\r\n\t\t\t\tp.setRange(range);\r\n\t\t\t});\r\n\t\t},\r\n\t\tdateUpdated: function(e){\r\n\t\t\t// `this.updating` is a workaround for preventing infinite recursion\r\n\t\t\t// between `changeDate` triggering and `setUTCDate` calling.  Until\r\n\t\t\t// there is a better mechanism.\r\n\t\t\tif (this.updating)\r\n\t\t\t\treturn;\r\n\t\t\tthis.updating = true;\r\n\r\n\t\t\tvar dp = $(e.target).data('datepicker'),\r\n\t\t\t\tnew_date = dp.getUTCDate(),\r\n\t\t\t\ti = $.inArray(e.target, this.inputs),\r\n\t\t\t\tl = this.inputs.length;\r\n\t\t\tif (i === -1)\r\n\t\t\t\treturn;\r\n\r\n\t\t\t$.each(this.pickers, function(i, p){\r\n\t\t\t\tif (!p.getUTCDate())\r\n\t\t\t\t\tp.setUTCDate(new_date);\r\n\t\t\t});\r\n\r\n\t\t\tif (new_date < this.dates[i]){\r\n\t\t\t\t// Date being moved earlier/left\r\n\t\t\t\twhile (i >= 0 && new_date < this.dates[i]){\r\n\t\t\t\t\tthis.pickers[i--].setUTCDate(new_date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (new_date > this.dates[i]){\r\n\t\t\t\t// Date being moved later/right\r\n\t\t\t\twhile (i < l && new_date > this.dates[i]){\r\n\t\t\t\t\tthis.pickers[i++].setUTCDate(new_date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.updateDates();\r\n\r\n\t\t\tdelete this.updating;\r\n\t\t},\r\n\t\tremove: function(){\r\n\t\t\t$.map(this.pickers, function(p){ p.remove(); });\r\n\t\t\tdelete this.element.data().datepicker;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction opts_from_el(el, prefix){\r\n\t\t// Derive options from element data-attrs\r\n\t\tvar data = $(el).data(),\r\n\t\t\tout = {}, inkey,\r\n\t\t\treplace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\r\n\t\tprefix = new RegExp('^' + prefix.toLowerCase());\r\n\t\tfunction re_lower(_,a){\r\n\t\t\treturn a.toLowerCase();\r\n\t\t}\r\n\t\tfor (var key in data)\r\n\t\t\tif (prefix.test(key)){\r\n\t\t\t\tinkey = key.replace(replace, re_lower);\r\n\t\t\t\tout[inkey] = data[key];\r\n\t\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\n\tfunction opts_from_locale(lang){\r\n\t\t// Derive options from locale plugins\r\n\t\tvar out = {};\r\n\t\t// Check if \"de-DE\" style date is available, if not language should\r\n\t\t// fallback to 2 letter code eg \"de\"\r\n\t\tif (!dates[lang]){\r\n\t\t\tlang = lang.split('-')[0];\r\n\t\t\tif (!dates[lang])\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t\tvar d = dates[lang];\r\n\t\t$.each(locale_opts, function(i,k){\r\n\t\t\tif (k in d)\r\n\t\t\t\tout[k] = d[k];\r\n\t\t});\r\n\t\treturn out;\r\n\t}\r\n\r\n\tvar old = $.fn.datepicker;\r\n\t$.fn.datepicker = function(option){\r\n\t\tvar args = Array.apply(null, arguments);\r\n\t\targs.shift();\r\n\t\tvar internal_return;\r\n\t\tthis.each(function(){\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tdata = $this.data('datepicker'),\r\n\t\t\t\toptions = typeof option === 'object' && option;\r\n\t\t\tif (!data){\r\n\t\t\t\tvar elopts = opts_from_el(this, 'date'),\r\n\t\t\t\t\t// Preliminary otions\r\n\t\t\t\t\txopts = $.extend({}, defaults, elopts, options),\r\n\t\t\t\t\tlocopts = opts_from_locale(xopts.language),\r\n\t\t\t\t\t// Options priority: js args, data-attrs, locales, defaults\r\n\t\t\t\t\topts = $.extend({}, defaults, locopts, elopts, options);\r\n\t\t\t\tif ($this.is('.input-daterange') || opts.inputs){\r\n\t\t\t\t\tvar ropts = {\r\n\t\t\t\t\t\tinputs: opts.inputs || $this.find('input').toArray()\r\n\t\t\t\t\t};\r\n\t\t\t\t\t$this.data('datepicker', (data = new DateRangePicker(this, $.extend(opts, ropts))));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, opts)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (typeof option === 'string' && typeof data[option] === 'function'){\r\n\t\t\t\tinternal_return = data[option].apply(data, args);\r\n\t\t\t\tif (internal_return !== undefined)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (internal_return !== undefined)\r\n\t\t\treturn internal_return;\r\n\t\telse\r\n\t\t\treturn this;\r\n\t};\r\n\r\n\tvar defaults = $.fn.datepicker.defaults = {\r\n\t\tautoclose: false,\r\n\t\tbeforeShowDay: $.noop,\r\n\t\tcalendarWeeks: false,\r\n\t\tclearBtn: false,\r\n\t\tdaysOfWeekDisabled: [],\r\n\t\tendDate: Infinity,\r\n\t\tforceParse: true,\r\n\t\tformat: 'mm/dd/yyyy',\r\n\t\tkeyboardNavigation: true,\r\n\t\tlanguage: 'en',\r\n\t\tminViewMode: 0,\r\n\t\tmultidate: false,\r\n\t\tmultidateSeparator: ',',\r\n\t\torientation: \"auto\",\r\n\t\trtl: false,\r\n\t\tstartDate: -Infinity,\r\n\t\tstartView: 0,\r\n\t\ttodayBtn: false,\r\n\t\ttodayHighlight: false,\r\n\t\tweekStart: 0\r\n\t};\r\n\tvar locale_opts = $.fn.datepicker.locale_opts = [\r\n\t\t'format',\r\n\t\t'rtl',\r\n\t\t'weekStart'\r\n\t];\r\n\t$.fn.datepicker.Constructor = Datepicker;\r\n\tvar dates = $.fn.datepicker.dates = {\r\n\t\ten: {\r\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\r\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\r\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\r\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\t\ttoday: \"Today\",\r\n\t\t\tclear: \"Clear\"\r\n\t\t}\r\n\t};\r\n\r\n\tvar DPGlobal = {\r\n\t\tmodes: [\r\n\t\t\t{\r\n\t\t\t\tclsName: 'days',\r\n\t\t\t\tnavFnc: 'Month',\r\n\t\t\t\tnavStep: 1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tclsName: 'months',\r\n\t\t\t\tnavFnc: 'FullYear',\r\n\t\t\t\tnavStep: 1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tclsName: 'years',\r\n\t\t\t\tnavFnc: 'FullYear',\r\n\t\t\t\tnavStep: 10\r\n\t\t}],\r\n\t\tisLeapYear: function(year){\r\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\r\n\t\t},\r\n\t\tgetDaysInMonth: function(year, month){\r\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\r\n\t\t},\r\n\t\tvalidParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\r\n\t\tnonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\r\n\t\tparseFormat: function(format){\r\n\t\t\t// IE treats \\0 as a string end in inputs (truncating the value),\r\n\t\t\t// so it's a bad format delimiter, anyway\r\n\t\t\tvar separators = format.replace(this.validParts, '\\0').split('\\0'),\r\n\t\t\t\tparts = format.match(this.validParts);\r\n\t\t\tif (!separators || !separators.length || !parts || parts.length === 0){\r\n\t\t\t\tthrow new Error(\"Invalid date format.\");\r\n\t\t\t}\r\n\t\t\treturn {separators: separators, parts: parts};\r\n\t\t},\r\n\t\tparseDate: function(date, format, language){\r\n\t\t\tif (!date)\r\n\t\t\t\treturn undefined;\r\n\t\t\tif (date instanceof Date)\r\n\t\t\t\treturn date;\r\n\t\t\tif (typeof format === 'string')\r\n\t\t\t\tformat = DPGlobal.parseFormat(format);\r\n\t\t\tvar part_re = /([\\-+]\\d+)([dmwy])/,\r\n\t\t\t\tparts = date.match(/([\\-+]\\d+)([dmwy])/g),\r\n\t\t\t\tpart, dir, i;\r\n\t\t\tif (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)){\r\n\t\t\t\tdate = new Date();\r\n\t\t\t\tfor (i=0; i < parts.length; i++){\r\n\t\t\t\t\tpart = part_re.exec(parts[i]);\r\n\t\t\t\t\tdir = parseInt(part[1]);\r\n\t\t\t\t\tswitch (part[2]){\r\n\t\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\t\tdate.setUTCDate(date.getUTCDate() + dir);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'm':\r\n\t\t\t\t\t\t\tdate = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'w':\r\n\t\t\t\t\t\t\tdate.setUTCDate(date.getUTCDate() + dir * 7);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'y':\r\n\t\t\t\t\t\t\tdate = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\r\n\t\t\t}\r\n\t\t\tparts = date && date.match(this.nonpunctuation) || [];\r\n\t\t\tdate = new Date();\r\n\t\t\tvar parsed = {},\r\n\t\t\t\tsetters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\r\n\t\t\t\tsetters_map = {\r\n\t\t\t\t\tyyyy: function(d,v){\r\n\t\t\t\t\t\treturn d.setUTCFullYear(v);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tyy: function(d,v){\r\n\t\t\t\t\t\treturn d.setUTCFullYear(2000+v);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tm: function(d,v){\r\n\t\t\t\t\t\tif (isNaN(d))\r\n\t\t\t\t\t\t\treturn d;\r\n\t\t\t\t\t\tv -= 1;\r\n\t\t\t\t\t\twhile (v < 0) v += 12;\r\n\t\t\t\t\t\tv %= 12;\r\n\t\t\t\t\t\td.setUTCMonth(v);\r\n\t\t\t\t\t\twhile (d.getUTCMonth() !== v)\r\n\t\t\t\t\t\t\td.setUTCDate(d.getUTCDate()-1);\r\n\t\t\t\t\t\treturn d;\r\n\t\t\t\t\t},\r\n\t\t\t\t\td: function(d,v){\r\n\t\t\t\t\t\treturn d.setUTCDate(v);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tval, filtered;\r\n\t\t\tsetters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\r\n\t\t\tsetters_map['dd'] = setters_map['d'];\r\n\t\t\tdate = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n\t\t\tvar fparts = format.parts.slice();\r\n\t\t\t// Remove noop parts\r\n\t\t\tif (parts.length !== fparts.length){\r\n\t\t\t\tfparts = $(fparts).filter(function(i,p){\r\n\t\t\t\t\treturn $.inArray(p, setters_order) !== -1;\r\n\t\t\t\t}).toArray();\r\n\t\t\t}\r\n\t\t\t// Process remainder\r\n\t\t\tfunction match_part(){\r\n\t\t\t\tvar m = this.slice(0, parts[i].length),\r\n\t\t\t\t\tp = parts[i].slice(0, m.length);\r\n\t\t\t\treturn m === p;\r\n\t\t\t}\r\n\t\t\tif (parts.length === fparts.length){\r\n\t\t\t\tvar cnt;\r\n\t\t\t\tfor (i=0, cnt = fparts.length; i < cnt; i++){\r\n\t\t\t\t\tval = parseInt(parts[i], 10);\r\n\t\t\t\t\tpart = fparts[i];\r\n\t\t\t\t\tif (isNaN(val)){\r\n\t\t\t\t\t\tswitch (part){\r\n\t\t\t\t\t\t\tcase 'MM':\r\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].months).filter(match_part);\r\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].months) + 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'M':\r\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].monthsShort).filter(match_part);\r\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].monthsShort) + 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparsed[part] = val;\r\n\t\t\t\t}\r\n\t\t\t\tvar _date, s;\r\n\t\t\t\tfor (i=0; i < setters_order.length; i++){\r\n\t\t\t\t\ts = setters_order[i];\r\n\t\t\t\t\tif (s in parsed && !isNaN(parsed[s])){\r\n\t\t\t\t\t\t_date = new Date(date);\r\n\t\t\t\t\t\tsetters_map[s](_date, parsed[s]);\r\n\t\t\t\t\t\tif (!isNaN(_date))\r\n\t\t\t\t\t\t\tdate = _date;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn date;\r\n\t\t},\r\n\t\tformatDate: function(date, format, language){\r\n\t\t\tif (!date)\r\n\t\t\t\treturn '';\r\n\t\t\tif (typeof format === 'string')\r\n\t\t\t\tformat = DPGlobal.parseFormat(format);\r\n\t\t\tvar val = {\r\n\t\t\t\td: date.getUTCDate(),\r\n\t\t\t\tD: dates[language].daysShort[date.getUTCDay()],\r\n\t\t\t\tDD: dates[language].days[date.getUTCDay()],\r\n\t\t\t\tm: date.getUTCMonth() + 1,\r\n\t\t\t\tM: dates[language].monthsShort[date.getUTCMonth()],\r\n\t\t\t\tMM: dates[language].months[date.getUTCMonth()],\r\n\t\t\t\tyy: date.getUTCFullYear().toString().substring(2),\r\n\t\t\t\tyyyy: date.getUTCFullYear()\r\n\t\t\t};\r\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\r\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\r\n\t\t\tdate = [];\r\n\t\t\tvar seps = $.extend([], format.separators);\r\n\t\t\tfor (var i=0, cnt = format.parts.length; i <= cnt; i++){\r\n\t\t\t\tif (seps.length)\r\n\t\t\t\t\tdate.push(seps.shift());\r\n\t\t\t\tdate.push(val[format.parts[i]]);\r\n\t\t\t}\r\n\t\t\treturn date.join('');\r\n\t\t},\r\n\t\theadTemplate: '<thead>'+\r\n\t\t\t\t\t\t\t'<tr>'+\r\n\t\t\t\t\t\t\t\t'<th class=\"prev\">&laquo;</th>'+\r\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"datepicker-switch\"></th>'+\r\n\t\t\t\t\t\t\t\t'<th class=\"next\">&raquo;</th>'+\r\n\t\t\t\t\t\t\t'</tr>'+\r\n\t\t\t\t\t\t'</thead>',\r\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\r\n\t\tfootTemplate: '<tfoot>'+\r\n\t\t\t\t\t\t\t'<tr>'+\r\n\t\t\t\t\t\t\t\t'<th colspan=\"7\" class=\"today\"></th>'+\r\n\t\t\t\t\t\t\t'</tr>'+\r\n\t\t\t\t\t\t\t'<tr>'+\r\n\t\t\t\t\t\t\t\t'<th colspan=\"7\" class=\"clear\"></th>'+\r\n\t\t\t\t\t\t\t'</tr>'+\r\n\t\t\t\t\t\t'</tfoot>'\r\n\t};\r\n\tDPGlobal.template = '<div class=\"datepicker\">'+\r\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\r\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\r\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\r\n\t\t\t\t\t\t\t\t'</table>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\r\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\r\n\t\t\t\t\t\t\t\t'</table>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\r\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\r\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\r\n\t\t\t\t\t\t\t\t'</table>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t'</div>';\r\n\r\n\t$.fn.datepicker.DPGlobal = DPGlobal;\r\n\r\n\r\n\t/* DATEPICKER NO CONFLICT\r\n\t* =================== */\r\n\r\n\t$.fn.datepicker.noConflict = function(){\r\n\t\t$.fn.datepicker = old;\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\t/* DATEPICKER DATA-API\r\n\t* ================== */\r\n\r\n\t$(document).on(\r\n\t\t'focus.datepicker.data-api click.datepicker.data-api',\r\n\t\t'[data-provide=\"datepicker\"]',\r\n\t\tfunction(e){\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif ($this.data('datepicker'))\r\n\t\t\t\treturn;\r\n\t\t\te.preventDefault();\r\n\t\t\t// component click requires us to explicitly show it\r\n\t\t\t$this.datepicker('show');\r\n\t\t}\r\n\t);\r\n\t$(function(){\r\n\t\t$('[data-provide=\"datepicker-inline\"]').datepicker();\r\n\t});\r\n\r\n}(window.jQuery));"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}